var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function e(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}function n(t){return t&&t.__esModule?t.default:t}function r(t,e){return function(){return t.apply(e,arguments)}}const{toString:o}=Object.prototype,{getPrototypeOf:i}=Object,a=(s=Object.create(null),t=>{const e=o.call(t);return s[e]||(s[e]=e.slice(8,-1).toLowerCase())});var s;const u=t=>(t=t.toLowerCase(),e=>a(e)===t),c=t=>e=>typeof e===t,{isArray:l}=Array,f=c("undefined");const h=u("ArrayBuffer");const p=c("string"),d=c("function"),y=c("number"),m=t=>null!==t&&"object"==typeof t,g=t=>{if("object"!==a(t))return!1;const e=i(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},v=u("Date"),b=u("File"),w=u("Blob"),_=u("FileList"),E=u("URLSearchParams");function x(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let r,o;if("object"!=typeof t&&(t=[t]),l(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(r=0;r<i;r++)a=o[r],e.call(null,t[a],a,t)}}function O(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,o=n.length;for(;o-- >0;)if(r=n[o],e===r.toLowerCase())return r;return null}const A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:t,B=t=>!f(t)&&t!==A;const S=(P="undefined"!=typeof Uint8Array&&i(Uint8Array),t=>P&&t instanceof P);var P;const C=u("HTMLFormElement"),k=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),T=u("RegExp"),I=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};x(n,((n,o)=>{let i;!1!==(i=e(n,o,t))&&(r[o]=i||n)})),Object.defineProperties(t,r)},R={DIGIT:"0123456789",ALPHA:"abcdefghijklmnopqrstuvwxyz",ALPHA_DIGIT:"abcdefghijklmnopqrstuvwxyz"+"abcdefghijklmnopqrstuvwxyz".toUpperCase()+"0123456789"};const j=u("AsyncFunction");var N={isArray:l,isArrayBuffer:h,isBuffer:function(t){return null!==t&&!f(t)&&null!==t.constructor&&!f(t.constructor)&&d(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||d(t.append)&&("formdata"===(e=a(t))||"object"===e&&d(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&h(t.buffer),e},isString:p,isNumber:y,isBoolean:t=>!0===t||!1===t,isObject:m,isPlainObject:g,isUndefined:f,isDate:v,isFile:b,isBlob:w,isRegExp:T,isFunction:d,isStream:t=>m(t)&&d(t.pipe),isURLSearchParams:E,isTypedArray:S,isFileList:_,forEach:x,merge:function t(){const{caseless:e}=B(this)&&this||{},n={},r=(r,o)=>{const i=e&&O(n,o)||o;g(n[i])&&g(r)?n[i]=t(n[i],r):g(r)?n[i]=t({},r):l(r)?n[i]=r.slice():n[i]=r};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&x(arguments[t],r);return n},extend:(t,e,n,{allOwnKeys:o}={})=>(x(e,((e,o)=>{n&&d(e)?t[o]=r(e,n):t[o]=e}),{allOwnKeys:o}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let o,a,s;const u={};if(e=e||{},null==t)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)s=o[a],r&&!r(s,t,e)||u[s]||(e[s]=t[s],u[s]=!0);t=!1!==n&&i(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:a,kindOfTest:u,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(l(t))return t;let e=t.length;if(!y(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:C,hasOwnProperty:k,hasOwnProp:k,reduceDescriptors:I,freezeMethods:t=>{I(t,((e,n)=>{if(d(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];d(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return l(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:O,global:A,isContextDefined:B,ALPHABET:R,generateString:(t=16,e=R.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n},isSpecCompliantForm:function(t){return!!(t&&d(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(m(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const o=l(t)?[]:{};return x(t,((t,e)=>{const i=n(t,r+1);!f(i)&&(o[e]=i)})),e[r]=void 0,o}}return t};return n(t,0)},isAsyncFn:j,isThenable:t=>t&&(m(t)||d(t))&&d(t.then)&&d(t.catch)};function M(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}N.inherits(M,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const L=M.prototype,D={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{D[t]={value:t}})),Object.defineProperties(M,D),Object.defineProperty(L,"isAxiosError",{value:!0}),M.from=(t,e,n,r,o,i)=>{const a=Object.create(L);return N.toFlatObject(t,a,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),M.call(a,t.message,e,n,r,o),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};var F,U,K,q=M;U=function(t){var e,n,r=Q(t),o=r[0],i=r[1],a=new W(function(t,e,n){return 3*(e+n)/4-n}(0,o,i)),s=0,u=i>0?o-4:o;for(n=0;n<u;n+=4)e=$[t.charCodeAt(n)]<<18|$[t.charCodeAt(n+1)]<<12|$[t.charCodeAt(n+2)]<<6|$[t.charCodeAt(n+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=255&e;2===i&&(e=$[t.charCodeAt(n)]<<2|$[t.charCodeAt(n+1)]>>4,a[s++]=255&e);1===i&&(e=$[t.charCodeAt(n)]<<10|$[t.charCodeAt(n+1)]<<4|$[t.charCodeAt(n+2)]>>2,a[s++]=e>>8&255,a[s++]=255&e);return a},K=function(t){for(var e,n=t.length,r=n%3,o=[],i=16383,a=0,s=n-r;a<s;a+=i)o.push(X(t,a,a+i>s?s:a+i));1===r?(e=t[n-1],o.push(V[e>>2]+V[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(V[e>>10]+V[e>>4&63]+V[e<<2&63]+"="));return o.join("")}
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */;for(var H,z,V=[],$=[],W="undefined"!=typeof Uint8Array?Uint8Array:Array,J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",G=0,Y=J.length;G<Y;++G)V[G]=J[G],$[J.charCodeAt(G)]=G;function Q(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function X(t,e,n){for(var r,o,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push(V[(o=r)>>18&63]+V[o>>12&63]+V[o>>6&63]+V[63&o]);return i.join("")}$["-".charCodeAt(0)]=62,$["_".charCodeAt(0)]=63,H=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,h=n?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},z=function(t,e,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+p]=255&s,p+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*y};const Z="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;F=et;function tt(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,et.prototype),e}function et(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return ot(t)}return nt(t,e,n)}function nt(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!et.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|ut(t,e);let r=tt(n);const o=r.write(t,e);o!==n&&(r=r.slice(0,o));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Kt(t,Uint8Array)){const e=new Uint8Array(t);return at(e.buffer,e.byteOffset,e.byteLength)}return it(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Kt(t,ArrayBuffer)||t&&Kt(t.buffer,ArrayBuffer))return at(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Kt(t,SharedArrayBuffer)||t&&Kt(t.buffer,SharedArrayBuffer)))return at(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return et.from(r,e,n);const o=function(t){if(et.isBuffer(t)){const e=0|st(t.length),n=tt(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||qt(t.length)?tt(0):it(t);if("Buffer"===t.type&&Array.isArray(t.data))return it(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return et.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function rt(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function ot(t){return rt(t),tt(t<0?0:0|st(t))}function it(t){const e=t.length<0?0:0|st(t.length),n=tt(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function at(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,et.prototype),r}function st(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function ut(t,e){if(et.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Kt(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Dt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Ft(t).length;default:if(o)return r?-1:Dt(t).length;e=(""+e).toLowerCase(),o=!0}}function ct(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return Et(this,e,n);case"utf8":case"utf-8":return bt(this,e,n);case"ascii":return wt(this,e,n);case"latin1":case"binary":return _t(this,e,n);case"base64":return vt(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xt(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function lt(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ft(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),qt(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=et.from(e,r)),et.isBuffer(e))return 0===e.length?-1:ht(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):ht(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function ht(t,e,n,r,o){let i,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){let r=-1;for(i=n;i<s;i++)if(c(t,i)===c(e,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===u)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){let n=!0;for(let r=0;r<u;r++)if(c(t,i+r)!==c(e,r)){n=!1;break}if(n)return i}return-1}function pt(t,e,n,r){n=Number(n)||0;const o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=e.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(e.substr(2*a,2),16);if(qt(r))return a;t[n+a]=r}return a}function dt(t,e,n,r){return Ut(Dt(e,t.length-n),t,n,r)}function yt(t,e,n,r){return Ut(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function mt(t,e,n,r){return Ut(Ft(e),t,n,r)}function gt(t,e,n,r){return Ut(function(t,e){let n,r,o;const i=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function vt(t,e,n){return 0===e&&n===t.length?K(t):K(t.slice(e,n))}function bt(t,e,n){n=Math.min(t.length,n);const r=[];let o=e;for(;o<n;){const e=t[o];let i=null,a=e>239?4:e>223?3:e>191?2:1;if(o+a<=n){let n,r,s,u;switch(a){case 1:e<128&&(i=e);break;case 2:n=t[o+1],128==(192&n)&&(u=(31&e)<<6|63&n,u>127&&(i=u));break;case 3:n=t[o+1],r=t[o+2],128==(192&n)&&128==(192&r)&&(u=(15&e)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:n=t[o+1],r=t[o+2],s=t[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(u=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&s,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(t){const e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}et.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),et.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(et.prototype,"parent",{enumerable:!0,get:function(){if(et.isBuffer(this))return this.buffer}}),Object.defineProperty(et.prototype,"offset",{enumerable:!0,get:function(){if(et.isBuffer(this))return this.byteOffset}}),et.poolSize=8192,et.from=function(t,e,n){return nt(t,e,n)},Object.setPrototypeOf(et.prototype,Uint8Array.prototype),Object.setPrototypeOf(et,Uint8Array),et.alloc=function(t,e,n){return function(t,e,n){return rt(t),t<=0?tt(t):void 0!==e?"string"==typeof n?tt(t).fill(e,n):tt(t).fill(e):tt(t)}(t,e,n)},et.allocUnsafe=function(t){return ot(t)},et.allocUnsafeSlow=function(t){return ot(t)},et.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==et.prototype},et.compare=function(t,e){if(Kt(t,Uint8Array)&&(t=et.from(t,t.offset,t.byteLength)),Kt(e,Uint8Array)&&(e=et.from(e,e.offset,e.byteLength)),!et.isBuffer(t)||!et.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},et.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},et.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return et.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=et.allocUnsafe(e);let o=0;for(n=0;n<t.length;++n){let e=t[n];if(Kt(e,Uint8Array))o+e.length>r.length?(et.isBuffer(e)||(e=et.from(e)),e.copy(r,o)):Uint8Array.prototype.set.call(r,e,o);else{if(!et.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,o)}o+=e.length}return r},et.byteLength=ut,et.prototype._isBuffer=!0,et.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)lt(this,e,e+1);return this},et.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)lt(this,e,e+3),lt(this,e+1,e+2);return this},et.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)lt(this,e,e+7),lt(this,e+1,e+6),lt(this,e+2,e+5),lt(this,e+3,e+4);return this},et.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?bt(this,0,t):ct.apply(this,arguments)},et.prototype.toLocaleString=et.prototype.toString,et.prototype.equals=function(t){if(!et.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===et.compare(this,t)},et.prototype.inspect=function(){let t="";return t=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(t+=" ... "),"<Buffer "+t+">"},Z&&(et.prototype[Z]=et.prototype.inspect),et.prototype.compare=function(t,e,n,r,o){if(Kt(t,Uint8Array)&&(t=et.from(t,t.offset,t.byteLength)),!et.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0);const s=Math.min(i,a),u=this.slice(r,o),c=t.slice(e,n);for(let t=0;t<s;++t)if(u[t]!==c[t]){i=u[t],a=c[t];break}return i<a?-1:a<i?1:0},et.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},et.prototype.indexOf=function(t,e,n){return ft(this,t,e,n,!0)},et.prototype.lastIndexOf=function(t,e,n){return ft(this,t,e,n,!1)},et.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return pt(this,t,e,n);case"utf8":case"utf-8":return dt(this,t,e,n);case"ascii":case"latin1":case"binary":return yt(this,t,e,n);case"base64":return mt(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gt(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},et.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function wt(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function _t(t,e,n){let r="";n=Math.min(t.length,n);for(let o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function Et(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=e;r<n;++r)o+=Ht[t[r]];return o}function xt(t,e,n){const r=t.slice(e,n);let o="";for(let t=0;t<r.length-1;t+=2)o+=String.fromCharCode(r[t]+256*r[t+1]);return o}function Ot(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function At(t,e,n,r,o,i){if(!et.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function Bt(t,e,n,r,o){jt(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i,i>>=8,t[n++]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,n}function St(t,e,n,r,o){jt(e,r,o,t,n,7);let i=Number(e&BigInt(4294967295));t[n+7]=i,i>>=8,t[n+6]=i,i>>=8,t[n+5]=i,i>>=8,t[n+4]=i;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=a,a>>=8,t[n+2]=a,a>>=8,t[n+1]=a,a>>=8,t[n]=a,n+8}function Pt(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Ct(t,e,n,r,o){return e=+e,n>>>=0,o||Pt(t,0,n,4),z(t,e,n,r,23,4),n+4}function kt(t,e,n,r,o){return e=+e,n>>>=0,o||Pt(t,0,n,8),z(t,e,n,r,52,8),n+8}et.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,et.prototype),r},et.prototype.readUintLE=et.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||Ot(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return r},et.prototype.readUintBE=et.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||Ot(t,e,this.length);let r=this[t+--e],o=1;for(;e>0&&(o*=256);)r+=this[t+--e]*o;return r},et.prototype.readUint8=et.prototype.readUInt8=function(t,e){return t>>>=0,e||Ot(t,1,this.length),this[t]},et.prototype.readUint16LE=et.prototype.readUInt16LE=function(t,e){return t>>>=0,e||Ot(t,2,this.length),this[t]|this[t+1]<<8},et.prototype.readUint16BE=et.prototype.readUInt16BE=function(t,e){return t>>>=0,e||Ot(t,2,this.length),this[t]<<8|this[t+1]},et.prototype.readUint32LE=et.prototype.readUInt32LE=function(t,e){return t>>>=0,e||Ot(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},et.prototype.readUint32BE=et.prototype.readUInt32BE=function(t,e){return t>>>=0,e||Ot(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},et.prototype.readBigUInt64LE=zt((function(t){Nt(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Mt(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),et.prototype.readBigUInt64BE=zt((function(t){Nt(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Mt(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),et.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||Ot(t,e,this.length);let r=this[t],o=1,i=0;for(;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},et.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||Ot(t,e,this.length);let r=e,o=1,i=this[t+--r];for(;r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},et.prototype.readInt8=function(t,e){return t>>>=0,e||Ot(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},et.prototype.readInt16LE=function(t,e){t>>>=0,e||Ot(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},et.prototype.readInt16BE=function(t,e){t>>>=0,e||Ot(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},et.prototype.readInt32LE=function(t,e){return t>>>=0,e||Ot(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},et.prototype.readInt32BE=function(t,e){return t>>>=0,e||Ot(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},et.prototype.readBigInt64LE=zt((function(t){Nt(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Mt(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),et.prototype.readBigInt64BE=zt((function(t){Nt(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||Mt(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),et.prototype.readFloatLE=function(t,e){return t>>>=0,e||Ot(t,4,this.length),H(this,t,!0,23,4)},et.prototype.readFloatBE=function(t,e){return t>>>=0,e||Ot(t,4,this.length),H(this,t,!1,23,4)},et.prototype.readDoubleLE=function(t,e){return t>>>=0,e||Ot(t,8,this.length),H(this,t,!0,52,8)},et.prototype.readDoubleBE=function(t,e){return t>>>=0,e||Ot(t,8,this.length),H(this,t,!1,52,8)},et.prototype.writeUintLE=et.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){At(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},et.prototype.writeUintBE=et.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){At(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},et.prototype.writeUint8=et.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||At(this,t,e,1,255,0),this[e]=255&t,e+1},et.prototype.writeUint16LE=et.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||At(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},et.prototype.writeUint16BE=et.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||At(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},et.prototype.writeUint32LE=et.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||At(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},et.prototype.writeUint32BE=et.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||At(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},et.prototype.writeBigUInt64LE=zt((function(t,e=0){return Bt(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),et.prototype.writeBigUInt64BE=zt((function(t,e=0){return St(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),et.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);At(this,t,e,n,r-1,-r)}let o=0,i=1,a=0;for(this[e]=255&t;++o<n&&(i*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/i>>0)-a&255;return e+n},et.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);At(this,t,e,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/i>>0)-a&255;return e+n},et.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||At(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},et.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||At(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},et.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||At(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},et.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||At(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},et.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||At(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},et.prototype.writeBigInt64LE=zt((function(t,e=0){return Bt(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),et.prototype.writeBigInt64BE=zt((function(t,e=0){return St(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),et.prototype.writeFloatLE=function(t,e,n){return Ct(this,t,e,!0,n)},et.prototype.writeFloatBE=function(t,e,n){return Ct(this,t,e,!1,n)},et.prototype.writeDoubleLE=function(t,e,n){return kt(this,t,e,!0,n)},et.prototype.writeDoubleBE=function(t,e,n){return kt(this,t,e,!1,n)},et.prototype.copy=function(t,e,n,r){if(!et.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const o=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),o},et.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!et.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{const i=et.isBuffer(t)?t:et.from(t,r),a=i.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=i[o%a]}return this};const Tt={};function It(t,e,n){Tt[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function Rt(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function jt(t,e,n,r,o,i){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new Tt.ERR_OUT_OF_RANGE("value",o,t)}!function(t,e,n){Nt(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||Mt(e,t.length-(n+1))}(r,o,i)}function Nt(t,e){if("number"!=typeof t)throw new Tt.ERR_INVALID_ARG_TYPE(e,"number",t)}function Mt(t,e,n){if(Math.floor(t)!==t)throw Nt(t,n),new Tt.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new Tt.ERR_BUFFER_OUT_OF_BOUNDS;throw new Tt.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}It("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),It("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),It("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=Rt(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=Rt(o)),o+="n"),r+=` It must be ${e}. Received ${o}`,r}),RangeError);const Lt=/[^+/0-9A-Za-z-_]/g;function Dt(t,e){let n;e=e||1/0;const r=t.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Ft(t){return U(function(t){if((t=(t=t.split("=")[0]).trim().replace(Lt,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Ut(t,e,n,r){let o;for(o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function Kt(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function qt(t){return t!=t}const Ht=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)e[r+o]=t[n]+t[o]}return e}();function zt(t){return"undefined"==typeof BigInt?Vt:t}function Vt(){throw new Error("BigInt not supported")}var $t=F;function Wt(t){return N.isPlainObject(t)||N.isArray(t)}function Jt(t){return N.endsWith(t,"[]")?t.slice(0,-2):t}function Gt(t,e,n){return t?t.concat(e).map((function(t,e){return t=Jt(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const Yt=N.toFlatObject(N,{},null,(function(t){return/^is[A-Z]/.test(t)}));var Qt=function(t,e,n){if(!N.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const r=(n=N.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!N.isUndefined(e[t])}))).metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(o))throw new TypeError("visitor must be a function");function u(t){if(null===t)return"";if(N.isDate(t))return t.toISOString();if(!s&&N.isBlob(t))throw new q("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(t)||N.isTypedArray(t)?s&&"function"==typeof Blob?new Blob([t]):$t.from(t):t}function c(t,n,o){let s=t;if(t&&!o&&"object"==typeof t)if(N.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(N.isArray(t)&&function(t){return N.isArray(t)&&!t.some(Wt)}(t)||(N.isFileList(t)||N.endsWith(n,"[]"))&&(s=N.toArray(t)))return n=Jt(n),s.forEach((function(t,r){!N.isUndefined(t)&&null!==t&&e.append(!0===a?Gt([n],r,i):null===a?n:n+"[]",u(t))})),!1;return!!Wt(t)||(e.append(Gt(o,n,i),u(t)),!1)}const l=[],f=Object.assign(Yt,{defaultVisitor:c,convertValue:u,isVisitable:Wt});if(!N.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!N.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),N.forEach(n,(function(n,i){!0===(!(N.isUndefined(n)||null===n)&&o.call(e,n,N.isString(i)?i.trim():i,r,f))&&t(n,r?r.concat(i):[i])})),l.pop()}}(t),e};function Xt(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Zt(t,e){this._pairs=[],t&&Qt(t,this,e)}const te=Zt.prototype;te.append=function(t,e){this._pairs.push([t,e])},te.toString=function(t){const e=t?function(e){return t.call(this,e,Xt)}:Xt;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var ee=Zt;function ne(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function re(t,e,n){if(!e)return t;const r=n&&n.encode||ne,o=n&&n.serialize;let i;if(i=o?o(e,n):N.isURLSearchParams(e)?e.toString():new ee(e,n).toString(r),i){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}var oe=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){N.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},ie={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ae={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ee,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},se={};e(se,"hasBrowserEnv",(function(){return ue})),e(se,"hasStandardBrowserEnv",(function(){return ce})),e(se,"hasStandardBrowserWebWorkerEnv",(function(){return fe}));const ue="undefined"!=typeof window&&"undefined"!=typeof document,ce=(le="undefined"!=typeof navigator&&navigator.product,ue&&["ReactNative","NativeScript","NS"].indexOf(le)<0);var le;const fe="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var he={...se,...ae};function pe(t,e){return Qt(t,new he.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return he.isNode&&N.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}var de=function(t){function e(t,n,r,o){let i=t[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=t.length;if(i=!i&&N.isArray(r)?r.length:i,s)return N.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&N.isObject(r[i])||(r[i]=[]);return e(t,n,r[i],o)&&N.isArray(r[i])&&(r[i]=function(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}(r[i])),!a}if(N.isFormData(t)&&N.isFunction(t.entries)){const n={};return N.forEachEntry(t,((t,r)=>{e(function(t){return N.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),r,n,0)})),n}return null};const ye={transitional:ie,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,o=N.isObject(t);o&&N.isHTMLForm(t)&&(t=new FormData(t));if(N.isFormData(t))return r?JSON.stringify(de(t)):t;if(N.isArrayBuffer(t)||N.isBuffer(t)||N.isStream(t)||N.isFile(t)||N.isBlob(t))return t;if(N.isArrayBufferView(t))return t.buffer;if(N.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return pe(t,this.formSerializer).toString();if((i=N.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Qt(i?{"files[]":t}:t,e&&new e,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),function(t,e,n){if(N.isString(t))try{return(e||JSON.parse)(t),N.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||ye.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(t&&N.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw q.from(t,q.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:he.classes.FormData,Blob:he.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],(t=>{ye.headers[t]={}}));var me=ye;const ge=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var ve=t=>{const e={};let n,r,o;return t&&t.split("\n").forEach((function(t){o=t.indexOf(":"),n=t.substring(0,o).trim().toLowerCase(),r=t.substring(o+1).trim(),!n||e[n]&&ge[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e};const be=Symbol("internals");function we(t){return t&&String(t).trim().toLowerCase()}function _e(t){return!1===t||null==t?t:N.isArray(t)?t.map(_e):String(t)}function Ee(t,e,n,r,o){return N.isFunction(r)?r.call(this,e,n):(o&&(e=n),N.isString(e)?N.isString(r)?-1!==e.indexOf(r):N.isRegExp(r)?r.test(e):void 0:void 0)}class xe{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function o(t,e,n){const o=we(e);if(!o)throw new Error("header name must be a non-empty string");const i=N.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||e]=_e(t))}const i=(t,e)=>N.forEach(t,((t,n)=>o(t,n,e)));return N.isPlainObject(t)||t instanceof this.constructor?i(t,e):N.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?i(ve(t),e):null!=t&&o(e,t,n),this}get(t,e){if(t=we(t)){const n=N.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(N.isFunction(e))return e.call(this,t,n);if(N.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=we(t)){const n=N.findKey(this,t);return!(!n||void 0===this[n]||e&&!Ee(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function o(t){if(t=we(t)){const o=N.findKey(n,t);!o||e&&!Ee(0,n[o],o,e)||(delete n[o],r=!0)}}return N.isArray(t)?t.forEach(o):o(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const o=e[n];t&&!Ee(0,this[o],o,t,!0)||(delete this[o],r=!0)}return r}normalize(t){const e=this,n={};return N.forEach(this,((r,o)=>{const i=N.findKey(n,o);if(i)return e[i]=_e(r),void delete e[o];const a=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(o):String(o).trim();a!==o&&delete e[o],e[a]=_e(r),n[a]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return N.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&N.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=(this[be]=this[be]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=we(t);e[r]||(!function(t,e){const n=N.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,o){return this[r].call(this,e,t,n,o)},configurable:!0})}))}(n,t),e[r]=!0)}return N.isArray(t)?t.forEach(r):r(t),this}}xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),N.reduceDescriptors(xe.prototype,(({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[n]=t}}})),N.freezeMethods(xe);var Oe=xe;function Ae(t,e){const n=this||me,r=e||n,o=Oe.from(r.headers);let i=r.data;return N.forEach(t,(function(t){i=t.call(n,i,o.normalize(),e?e.status:void 0)})),o.normalize(),i}function Be(t){return!(!t||!t.__CANCEL__)}function Se(t,e,n){q.call(this,null==t?"canceled":t,q.ERR_CANCELED,e,n),this.name="CanceledError"}N.inherits(Se,q,{__CANCEL__:!0});var Pe=Se;function Ce(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new q("Request failed with status code "+n.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}var ke=he.hasStandardBrowserEnv?{write(t,e,n,r,o,i){const a=[t+"="+encodeURIComponent(e)];N.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),N.isString(r)&&a.push("path="+r),N.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Te(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ie(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?Te(t,e):e}var Re=he.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=N.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};function je(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var Ne=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o,i=0,a=0;return e=void 0!==e?e:1e3,function(s){const u=Date.now(),c=r[a];o||(o=u),n[i]=s,r[i]=u;let l=a,f=0;for(;l!==i;)f+=n[l++],l%=t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),u-o<e)return;const h=c&&u-c;return h?Math.round(1e3*f/h):void 0}};function Me(t,e){let n=0;const r=Ne(50,250);return o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,s=i-n,u=r(s);n=i;const c={loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&i<=a?(a-i)/u:void 0,event:o};c[e?"download":"upload"]=!0,t(c)}}const Le={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let r=t.data;const o=Oe.from(t.headers).normalize();let i,a,{responseType:s,withXSRFToken:u}=t;function c(){t.cancelToken&&t.cancelToken.unsubscribe(i),t.signal&&t.signal.removeEventListener("abort",i)}if(N.isFormData(r))if(he.hasStandardBrowserEnv||he.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(a=o.getContentType())){const[t,...e]=a?a.split(";").map((t=>t.trim())).filter(Boolean):[];o.setContentType([t||"multipart/form-data",...e].join("; "))}let l=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(e+":"+n))}const f=Ie(t.baseURL,t.url);function h(){if(!l)return;const r=Oe.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());Ce((function(t){e(t),c()}),(function(t){n(t),c()}),{data:s&&"text"!==s&&"json"!==s?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:t,request:l}),l=null}if(l.open(t.method.toUpperCase(),re(f,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,"onloadend"in l?l.onloadend=h:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(h)},l.onabort=function(){l&&(n(new q("Request aborted",q.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new q("Network Error",q.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const r=t.transitional||ie;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new q(e,r.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,t,l)),l=null},he.hasStandardBrowserEnv&&(u&&N.isFunction(u)&&(u=u(t)),u||!1!==u&&Re(f))){const e=t.xsrfHeaderName&&t.xsrfCookieName&&ke.read(t.xsrfCookieName);e&&o.set(t.xsrfHeaderName,e)}void 0===r&&o.setContentType(null),"setRequestHeader"in l&&N.forEach(o.toJSON(),(function(t,e){l.setRequestHeader(e,t)})),N.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),s&&"json"!==s&&(l.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",Me(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Me(t.onUploadProgress)),(t.cancelToken||t.signal)&&(i=e=>{l&&(n(!e||e.type?new Pe(null,t,l):e),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(i),t.signal&&(t.signal.aborted?i():t.signal.addEventListener("abort",i)));const p=je(f);p&&-1===he.protocols.indexOf(p)?n(new q("Unsupported protocol "+p+":",q.ERR_BAD_REQUEST,t)):l.send(r||null)}))}};N.forEach(Le,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const De=t=>`- ${t}`,Fe=t=>N.isFunction(t)||null===t||!1===t;var Ue={getAdapter:t=>{t=N.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let i=0;i<e;i++){let e;if(n=t[i],r=n,!Fe(n)&&(r=Le[(e=String(n)).toLowerCase()],void 0===r))throw new q(`Unknown adapter '${e}'`);if(r)break;o[e||"#"+i]=r}if(!r){const t=Object.entries(o).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));let n=e?t.length>1?"since :\n"+t.map(De).join("\n"):" "+De(t[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r},adapters:Le};function Ke(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pe(null,t)}function qe(t){Ke(t),t.headers=Oe.from(t.headers),t.data=Ae.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return Ue.getAdapter(t.adapter||me.adapter)(t).then((function(e){return Ke(t),e.data=Ae.call(t,t.transformResponse,e),e.headers=Oe.from(e.headers),e}),(function(e){return Be(e)||(Ke(t),e&&e.response&&(e.response.data=Ae.call(t,t.transformResponse,e.response),e.response.headers=Oe.from(e.response.headers))),Promise.reject(e)}))}const He=t=>t instanceof Oe?t.toJSON():t;function ze(t,e){e=e||{};const n={};function r(t,e,n){return N.isPlainObject(t)&&N.isPlainObject(e)?N.merge.call({caseless:n},t,e):N.isPlainObject(e)?N.merge({},e):N.isArray(e)?e.slice():e}function o(t,e,n){return N.isUndefined(e)?N.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function i(t,e){if(!N.isUndefined(e))return r(void 0,e)}function a(t,e){return N.isUndefined(e)?N.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function s(n,o,i){return i in e?r(n,o):i in t?r(void 0,n):void 0}const u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(t,e)=>o(He(t),He(e),!0)};return N.forEach(Object.keys(Object.assign({},t,e)),(function(r){const i=u[r]||o,a=i(t[r],e[r],r);N.isUndefined(a)&&i!==s||(n[r]=a)})),n}const Ve={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Ve[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const $e={};Ve.transitional=function(t,e,n){function r(t,e){return"[Axios v1.6.7] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,o,i)=>{if(!1===t)throw new q(r(o," has been removed"+(e?" in "+e:"")),q.ERR_DEPRECATED);return e&&!$e[o]&&($e[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,o,i)}};var We={assertOptions:function(t,e,n){if("object"!=typeof t)throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],a=e[i];if(a){const e=t[i],n=void 0===e||a(e,i,t);if(!0!==n)throw new q("option "+i+" must be "+n,q.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new q("Unknown option "+i,q.ERR_BAD_OPTION)}},validators:Ve};const Je=We.validators;class Ge{constructor(t){this.defaults=t,this.interceptors={request:new oe,response:new oe}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const n=e.stack?e.stack.replace(/^.+\n/,""):"";t.stack?n&&!String(t.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+n):t.stack=n}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=ze(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:o}=e;void 0!==n&&We.assertOptions(n,{silentJSONParsing:Je.transitional(Je.boolean),forcedJSONParsing:Je.transitional(Je.boolean),clarifyTimeoutError:Je.transitional(Je.boolean)},!1),null!=r&&(N.isFunction(r)?e.paramsSerializer={serialize:r}:We.assertOptions(r,{encode:Je.function,serialize:Je.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let i=o&&N.merge(o.common,o[e.method]);o&&N.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete o[t]})),e.headers=Oe.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(s=s&&t.synchronous,a.unshift(t.fulfilled,t.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let l,f=0;if(!s){const t=[qe.bind(this),void 0];for(t.unshift.apply(t,a),t.push.apply(t,u),l=t.length,c=Promise.resolve(e);f<l;)c=c.then(t[f++],t[f++]);return c}l=a.length;let h=e;for(f=0;f<l;){const t=a[f++],e=a[f++];try{h=t(h)}catch(t){e.call(this,t);break}}try{c=qe.call(this,h)}catch(t){return Promise.reject(t)}for(f=0,l=u.length;f<l;)c=c.then(u[f++],u[f++]);return c}getUri(t){return re(Ie((t=ze(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}N.forEach(["delete","get","head","options"],(function(t){Ge.prototype[t]=function(e,n){return this.request(ze(n||{},{method:t,url:e,data:(n||{}).data}))}})),N.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,o){return this.request(ze(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ge.prototype[t]=e(),Ge.prototype[t+"Form"]=e(!0)}));var Ye=Ge;class Qe{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,o){n.reason||(n.reason=new Pe(t,r,o),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new Qe((function(e){t=e})),cancel:t}}}var Xe=Qe;const Ze={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ze).forEach((([t,e])=>{Ze[e]=t}));var tn=Ze;const en=function t(e){const n=new Ye(e),o=r(Ye.prototype.request,n);return N.extend(o,Ye.prototype,n,{allOwnKeys:!0}),N.extend(o,n,null,{allOwnKeys:!0}),o.create=function(n){return t(ze(e,n))},o}(me);en.Axios=Ye,en.CanceledError=Pe,en.CancelToken=Xe,en.isCancel=Be,en.VERSION="1.6.7",en.toFormData=Qt,en.AxiosError=q,en.Cancel=en.CanceledError,en.all=function(t){return Promise.all(t)},en.spread=function(t){return function(e){return t.apply(null,e)}},en.isAxiosError=function(t){return N.isObject(t)&&!0===t.isAxiosError},en.mergeConfig=ze,en.AxiosHeaders=Oe,en.formToJSON=t=>de(N.isHTMLForm(t)?new FormData(t):t),en.getAdapter=Ue.getAdapter,en.HttpStatusCode=tn,en.default=en;var nn=en;const{Axios:rn,AxiosError:on,CanceledError:an,isCancel:sn,CancelToken:un,VERSION:cn,all:ln,Cancel:fn,isAxiosError:hn,spread:pn,toFormData:dn,AxiosHeaders:yn,HttpStatusCode:mn,formToJSON:gn,getAdapter:vn,mergeConfig:bn}=nn,wn=nn.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"714c3120d8fef346bdc59740f67d43e6"}});async function _n(t="",e=1){return(await(t?wn.get("search/movie",{params:{page:e,query:t}}):wn.get("trending/movie/week",{params:{page:e}})).catch((t=>{throw t.toJSON()}))).data}function En(t){return[...xn(t.genre_ids)].join(", ")+" | "+t.release_date.substring(0,4)}function*xn(t){for(let e=0;e<=2&&e<t.length;e++)yield e<2?On.genres.get(t[e]):"Other"}const On={images:{base_url:"http://image.tmdb.org/t/p/",secure_base_url:"https://image.tmdb.org/t/p/",backdrop_sizes:["w300","w780","w1280","original"],poster_sizes:["w92","w154","w185","w342","w500","w780","original"]},genres:new Map([[28,"Action"],[12,"Adventure"],[16,"Animation"],[35,"Comedy"],[80,"Crime"],[99,"Documentary"],[18,"Drama"],[10751,"Family"],[14,"Fantasy"],[36,"History"],[27,"Horror"],[10402,"Music"],[9648,"Mystery"],[10749,"Romance"],[878,"Science Fiction"],[10770,"TV Movie"],[53,"Thriller"],[10752,"War"],[37,"Western"]])};document.querySelector(".loader");document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&(document.querySelector(".loader").style.display="none",document.querySelector(".spinner").style.animation="none")}));var An,Bn={};
/*!
 * TOAST UI Pagination
 * @version 3.4.1
 * @author NHN FE Development Team <dl_javascript@nhn.com>
 * @license MIT
 */window,An=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="dist",n(n.s=10)}([function(t,e,n){t.exports=function(t,e){var n,r,o,i,a=Object.prototype.hasOwnProperty;for(o=1,i=arguments.length;o<i;o+=1)for(r in n=arguments[o])a.call(n,r)&&(t[r]=n[r]);return t}},function(t,e,n){t.exports=function(t){return void 0===t}},function(t,e,n){t.exports=function(t){return t instanceof Array}},function(t,e,n){var r=n(2),o=n(17),i=n(6);t.exports=function(t,e,n){r(t)?o(t,e,n):i(t,e,n)}},function(t,e,n){t.exports=function(t){return"string"==typeof t||t instanceof String}},function(t,e,n){t.exports=function(t){return t instanceof Function}},function(t,e,n){t.exports=function(t,e,n){var r;for(r in n=n||null,t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))break}},function(t,e,n){var r=n(18),o=n(0);t.exports=function(t,e){var n;return e||(e=t,t=null),n=e.init||function(){},t&&r(n,t),e.hasOwnProperty("static")&&(o(n,e.static),delete e.static),o(n.prototype,e),n}},function(t,e,n){var r=n(2);t.exports=function(t,e,n){var o,i;if(n=n||0,!r(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);for(i=e.length,o=n;n>=0&&o<i;o+=1)if(e[o]===t)return o;return-1}},function(t,e,n){var r=n(29),o=n(30),i=n(5),a={capitalizeFirstLetter:function(t){return t.substring(0,1).toUpperCase()+t.substring(1,t.length)},isContained:function(t,e){return!!e&&(t===e||e.contains(t))},createElementByTemplate:function(t,e){var n=document.createElement("div"),o=i(t)?t(e):r(t,e);return n.innerHTML=o,n.firstChild},bind:function(t,e){var n,r=Array.prototype.slice;return t.bind?t.bind.apply(t,r.call(arguments,1)):(n=r.call(arguments,2),function(){return t.apply(e,n.length?n.concat(r.call(arguments)):arguments)})},sendHostName:function(){o("pagination","UA-129987462-1")}};t.exports=a},function(t,e,n){n(11),t.exports=n(12)},function(t,e,n){},function(t,e,n){var r=n(13),o=n(7),i=n(0),a=n(1),s=n(20),u=n(9),c={totalItems:10,itemsPerPage:10,visiblePages:10,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",usageStatistics:!0},l=o({init:function(t,e){this._options=i({},c,e),this._currentPage=0,this._view=new s(t,this._options,u.bind(this._onClickHandler,this)),this._paginate(),this._options.usageStatistics&&u.sendHostName()},_setCurrentPage:function(t){this._currentPage=t||this._options.page},_getLastPage:function(){var t=Math.ceil(this._options.totalItems/this._options.itemsPerPage);return t||1},_getPageIndex:function(t){var e;return this._options.centerAlign?(e=t-Math.floor(this._options.visiblePages/2),e=Math.max(e,1),e=Math.min(e,this._getLastPage()-this._options.visiblePages+1)):Math.ceil(t/this._options.visiblePages)},_getRelativePage:function(t){var e="prev"===t,n=this.getCurrentPage();return e?n-1:n+1},_getMorePageIndex:function(t){var e=this._getPageIndex(this.getCurrentPage()),n=this._options.visiblePages,r="prev"===t;return this._options.centerAlign?r?e-1:e+n:r?(e-1)*n:e*n+1},_convertToValidPage:function(t){var e=this._getLastPage();return t=Math.max(t,1),t=Math.min(t,e)},_paginate:function(t){var e=this._makeViewData(t||this._options.page);this._setCurrentPage(t),this._view.update(e)},_makeViewData:function(t){var e={},n=this._getLastPage(),r=this._getPageIndex(t),o=this._getPageIndex(n),i=this._getEdge(t);return e.leftPageNumber=i.left,e.rightPageNumber=i.right,e.prevMore=r>1,e.nextMore=r<o,e.page=t,e.currentPageIndex=t,e.lastPage=n,e.lastPageListIndex=n,e},_getEdge:function(t){var e,n,r,o=this._getLastPage(),i=this._options.visiblePages,a=this._getPageIndex(t);return this._options.centerAlign?(r=Math.floor(i/2),(n=(e=Math.max(t-r,1))+i-1)>o&&(e=Math.max(o-i+1,1),n=o)):(e=(a-1)*i+1,n=a*i,n=Math.min(n,o)),{left:e,right:n}},_onClickHandler:function(t,e){switch(t){case"first":e=1;break;case"prev":e=this._getRelativePage("prev");break;case"next":e=this._getRelativePage("next");break;case"prevMore":e=this._getMorePageIndex("prev");break;case"nextMore":e=this._getMorePageIndex("next");break;case"last":e=this._getLastPage();break;default:if(!e)return}this.movePageTo(e)},reset:function(t){a(t)&&(t=this._options.totalItems),this._options.totalItems=t,this._paginate(1)},movePageTo:function(t){t=this._convertToValidPage(t),this.invoke("beforeMove",{page:t})&&(this._paginate(t),this.fire("afterMove",{page:t}))},setTotalItems:function(t){this._options.totalItems=t},setItemsPerPage:function(t){this._options.itemsPerPage=t},getCurrentPage:function(){return this._currentPage||this._options.page}});r.mixin(l),t.exports=l},function(t,e,n){var r=n(0),o=n(14),i=n(4),a=n(16),s=n(2),u=n(5),c=n(3),l=/\s+/g;function f(){this.events=null,this.contexts=null}f.mixin=function(t){r(t.prototype,f.prototype)},f.prototype._getHandlerItem=function(t,e){var n={handler:t};return e&&(n.context=e),n},f.prototype._safeEvent=function(t){var e,n=this.events;return n||(n=this.events={}),t&&((e=n[t])||(e=[],n[t]=e),n=e),n},f.prototype._safeContext=function(){var t=this.contexts;return t||(t=this.contexts=[]),t},f.prototype._indexOfContext=function(t){for(var e=this._safeContext(),n=0;e[n];){if(t===e[n][0])return n;n+=1}return-1},f.prototype._memorizeContext=function(t){var e,n;o(t)&&(e=this._safeContext(),(n=this._indexOfContext(t))>-1?e[n][1]+=1:e.push([t,1]))},f.prototype._forgetContext=function(t){var e,n;o(t)&&(e=this._safeContext(),(n=this._indexOfContext(t))>-1&&(e[n][1]-=1,e[n][1]<=0&&e.splice(n,1)))},f.prototype._bindEvent=function(t,e,n){var r=this._safeEvent(t);this._memorizeContext(n),r.push(this._getHandlerItem(e,n))},f.prototype.on=function(t,e,n){var r=this;i(t)?(t=t.split(l),c(t,(function(t){r._bindEvent(t,e,n)}))):a(t)&&(n=e,c(t,(function(t,e){r.on(e,t,n)})))},f.prototype.once=function(t,e,n){var r=this;if(a(t))return n=e,void c(t,(function(t,e){r.once(e,t,n)}));this.on(t,(function o(){e.apply(n,arguments),r.off(t,o,n)}),n)},f.prototype._spliceMatches=function(t,e){var n,r=0;if(s(t))for(n=t.length;r<n;r+=1)!0===e(t[r])&&(t.splice(r,1),n-=1,r-=1)},f.prototype._matchHandler=function(t){var e=this;return function(n){var r=t===n.handler;return r&&e._forgetContext(n.context),r}},f.prototype._matchContext=function(t){var e=this;return function(n){var r=t===n.context;return r&&e._forgetContext(n.context),r}},f.prototype._matchHandlerAndContext=function(t,e){var n=this;return function(r){var o=t===r.handler,i=e===r.context,a=o&&i;return a&&n._forgetContext(r.context),a}},f.prototype._offByEventName=function(t,e){var n=this,r=u(e),o=n._matchHandler(e);t=t.split(l),c(t,(function(t){var e=n._safeEvent(t);r?n._spliceMatches(e,o):(c(e,(function(t){n._forgetContext(t.context)})),n.events[t]=[])}))},f.prototype._offByHandler=function(t){var e=this,n=this._matchHandler(t);c(this._safeEvent(),(function(t){e._spliceMatches(t,n)}))},f.prototype._offByObject=function(t,e){var n,r=this;this._indexOfContext(t)<0?c(t,(function(t,e){r.off(e,t)})):i(e)?(n=this._matchContext(t),r._spliceMatches(this._safeEvent(e),n)):u(e)?(n=this._matchHandlerAndContext(e,t),c(this._safeEvent(),(function(t){r._spliceMatches(t,n)}))):(n=this._matchContext(t),c(this._safeEvent(),(function(t){r._spliceMatches(t,n)})))},f.prototype.off=function(t,e){i(t)?this._offByEventName(t,e):arguments.length?u(t)?this._offByHandler(t):a(t)&&this._offByObject(t,e):(this.events={},this.contexts=[])},f.prototype.fire=function(t){this.invoke.apply(this,arguments)},f.prototype.invoke=function(t){var e,n,r,o;if(!this.hasListener(t))return!0;for(e=this._safeEvent(t),n=Array.prototype.slice.call(arguments,1),r=0;e[r];){if(!1===(o=e[r]).handler.apply(o.context,n))return!1;r+=1}return!0},f.prototype.hasListener=function(t){return this.getListenerLength(t)>0},f.prototype.getListenerLength=function(t){return this._safeEvent(t).length},t.exports=f},function(t,e,n){var r=n(1),o=n(15);t.exports=function(t){return!r(t)&&!o(t)}},function(t,e,n){t.exports=function(t){return null===t}},function(t,e,n){t.exports=function(t){return t===Object(t)}},function(t,e,n){t.exports=function(t,e,n){var r=0,o=t.length;for(n=n||null;r<o&&!1!==e.call(n,t[r],r,t);r+=1);}},function(t,e,n){var r=n(19);t.exports=function(t,e){var n=r(e.prototype);n.constructor=t,t.prototype=n}},function(t,e,n){t.exports=function(t){function e(){}return e.prototype=t,new e}},function(t,e,n){var r=n(3),o=n(7),i=n(21),a=n(22),s=n(24),u=n(25),c=n(0),l=n(4),f=n(28),h=n(9),p={page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'},d=["first","prev","next","last"],y=["prev","next"],m=o({init:function(t,e,n){this._containerElement=null,this._firstItemClassName=e.firstItemClassName,this._lastItemClassName=e.lastItemClassName,this._template=c({},p,e.template),this._buttons={},this._enabledPageElements=[],this._setRootElement(t),this._setMoveButtons(),this._setDisabledMoveButtons(),this._setMoreButtons(),this._attachClickEvent(n)},_setRootElement:function(t){if(l(t)?t=document.getElementById(t)||document.querySelector(t):t.jquery&&(t=t[0]),!f(t))throw new Error("The container element is invalid.");this._containerElement=t},_setMoveButtons:function(){r(d,(function(t){this._buttons[t]=h.createElementByTemplate(this._template.moveButton,{type:t})}),this)},_setDisabledMoveButtons:function(){r(d,(function(t){var e="disabled"+h.capitalizeFirstLetter(t);this._buttons[e]=h.createElementByTemplate(this._template.disabledMoveButton,{type:t})}),this)},_setMoreButtons:function(){r(y,(function(t){var e=t+"More";this._buttons[e]=h.createElementByTemplate(this._template.moreButton,{type:t})}),this)},_getContainerElement:function(){return this._containerElement},_appendFirstButton:function(t){var e;e=t.page>1?this._buttons.first:this._buttons.disabledFirst,this._getContainerElement().appendChild(e)},_appendPrevButton:function(t){var e;e=t.currentPageIndex>1?this._buttons.prev:this._buttons.disabledPrev,this._getContainerElement().appendChild(e)},_appendNextButton:function(t){var e;e=t.currentPageIndex<t.lastPageListIndex?this._buttons.next:this._buttons.disabledNext,this._getContainerElement().appendChild(e)},_appendLastButton:function(t){var e;e=t.page<t.lastPage?this._buttons.last:this._buttons.disabledLast,this._getContainerElement().appendChild(e)},_appendPrevMoreButton:function(t){var e;t.prevMore&&(e=this._buttons.prevMore,u(e,this._firstItemClassName),this._getContainerElement().appendChild(e))},_appendNextMoreButton:function(t){var e;t.nextMore&&(e=this._buttons.nextMore,u(e,this._lastItemClassName),this._getContainerElement().appendChild(e))},_appendPages:function(t){var e,n,r=t.leftPageNumber,o=t.rightPageNumber;for(n=r;n<=o;n+=1)n===t.page?e=h.createElementByTemplate(this._template.currentPage,{page:n}):(e=h.createElementByTemplate(this._template.page,{page:n}),this._enabledPageElements.push(e)),n!==r||t.prevMore||u(e,this._firstItemClassName),n!==o||t.nextMore||u(e,this._lastItemClassName),this._getContainerElement().appendChild(e)},_attachClickEvent:function(t){var e=this._getContainerElement();a(e,"click",(function(e){var n,r,o=i(e);s(e),(r=this._getButtonType(o))||(n=this._getPageNumber(o)),t(r,n)}),this)},_getButtonType:function(t){var e,n=this._buttons;return r(n,(function(n,r){return!h.isContained(t,n)||(e=r,!1)}),this),e},_getPageNumber:function(t){var e,n=this._findPageElement(t);return n&&(e=parseInt(n.innerText,10)),e},_findPageElement:function(t){for(var e,n=0,r=this._enabledPageElements.length;n<r;n+=1)if(e=this._enabledPageElements[n],h.isContained(t,e))return e;return null},_empty:function(){this._enabledPageElements=[],r(this._buttons,(function(t,e){this._buttons[e]=t.cloneNode(!0)}),this),this._getContainerElement().innerHTML=""},update:function(t){this._empty(),this._appendFirstButton(t),this._appendPrevButton(t),this._appendPrevMoreButton(t),this._appendPages(t),this._appendNextMoreButton(t),this._appendNextButton(t),this._appendLastButton(t)}});t.exports=m},function(t,e,n){t.exports=function(t){return t.target||t.srcElement}},function(t,e,n){var r=n(4),o=n(3),i=n(23);function a(t,e,n,r){function a(e){n.call(r||t,e||window.event)}"addEventListener"in t?t.addEventListener(e,a):"attachEvent"in t&&t.attachEvent("on"+e,a),function(t,e,n,r){var a=i(t,e),s=!1;o(a,(function(t){return t.handler!==n||(s=!0,!1)})),s||a.push({handler:n,wrappedHandler:r})}(t,e,n,a)}t.exports=function(t,e,n,i){r(e)?o(e.split(/\s+/g),(function(e){a(t,e,n,i)})):o(e,(function(e,r){a(t,r,e,n)}))}},function(t,e,n){var r="_feEventKey";t.exports=function(t,e){var n,o=t[r];return o||(o=t[r]={}),(n=o[e])||(n=o[e]=[]),n}},function(t,e,n){t.exports=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}},function(t,e,n){var r=n(3),o=n(8),i=n(26),a=n(27);t.exports=function(t){var e,n=Array.prototype.slice.call(arguments,1),s=t.classList,u=[];s?r(n,(function(e){t.classList.add(e)})):((e=i(t))&&(n=[].concat(e.split(/\s+/),n)),r(n,(function(t){o(t,u)<0&&u.push(t)})),a(t,u))}},function(t,e,n){var r=n(1);t.exports=function(t){return t&&t.className?r(t.className.baseVal)?t.className:t.className.baseVal:""}},function(t,e,n){var r=n(2),o=n(1);t.exports=function(t,e){e=(e=r(e)?e.join(" "):e).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),o(t.className.baseVal)?t.className=e:t.className.baseVal=e}},function(t,e,n){t.exports=function(t){return"object"==typeof HTMLElement?t&&(t instanceof HTMLElement||!!t.nodeType):!(!t||!t.nodeType)}},function(t,e,n){var r=n(8),o=n(3),i=n(2),a=n(4),s=n(0),u=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,l=/\[\s?|\s?\]/,f=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,p=/^["']\w+["']$/,d=/"|'/g,y=/^-?\d+\.?\d*$/,m={if:function(t,e,n){var r=function(t,e){var n=[t],r=[],i=0,a=0;return o(e,(function(t,o){0===t.indexOf("if")?i+=1:"/if"===t?i-=1:i||0!==t.indexOf("elseif")&&"else"!==t||(n.push("else"===t?["true"]:t.split(" ").slice(1)),r.push(e.slice(a,o)),a=o+1)})),r.push(e.slice(a)),{exps:n,sourcesInsideIf:r}}(t,e),i=!1,a="";return o(r.exps,(function(t,e){return(i=w(t,n))&&(a=_(r.sourcesInsideIf[e],n)),!i})),a},each:function(t,e,n){var r=w(t,n),a=i(r)?"@index":"@key",u={},c="";return o(r,(function(t,r){u[a]=r,u["@this"]=t,s(n,u),c+=_(e.slice(),n)})),c},with:function(t,e,n){var o=r("as",t),i=t[o+1],a=w(t.slice(0,o),n),u={};return u[i]=a,_(e,s(n,u))||""}},g=3==="a".split(/a/).length?function(t,e){return t.split(e)}:function(t,e){var n,r,o=[],i=0;for(e.global||(e=new RegExp(e,"g")),n=e.exec(t);null!==n;)r=n.index,o.push(t.slice(i,r)),i=r+n[0].length,n=e.exec(t);return o.push(t.slice(i)),o};function v(t,e){var n,r=e[t];return"true"===t?r=!0:"false"===t?r=!1:p.test(t)?r=t.replace(d,""):c.test(t)?r=v((n=t.split(l))[0],e)[v(n[1],e)]:f.test(t)?r=v((n=t.split(h))[0],e)[n[1]]:y.test(t)&&(r=parseFloat(t)),r}function b(t,e,n){for(var r,o,i,s,u=m[t],c=1,l=2,f=e[l];c&&a(f);)0===f.indexOf(t)?c+=1:0===f.indexOf("/"+t)&&(c-=1,r=l),f=e[l+=2];if(c)throw Error(t+" needs {{/"+t+"}} expression.");return e[0]=u(e[0].split(" ").slice(1),(o=0,i=r,(s=e.splice(o+1,i-o)).pop(),s),n),e}function w(t,e){var n=v(t[0],e);return n instanceof Function?function(t,e,n){var r=[];return o(e,(function(t){r.push(v(t,n))})),t.apply(null,r)}(n,t.slice(1),e):n}function _(t,e){for(var n,r,o,i=1,s=t[i];a(s);)r=(n=s.split(" "))[0],m[r]?(o=b(r,t.splice(i,t.length-i),e),t=t.concat(o)):t[i]=w(n,e),s=t[i+=2];return t.join("")}t.exports=function(t,e){return _(g(t,u),e)}},function(t,e,n){var r=n(1),o=n(31);t.exports=function(t,e){var n=location.hostname,i="TOAST UI "+t+" for "+n+": Statistics",a=window.localStorage.getItem(i);(r(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(t){return(new Date).getTime()-t>6048e5}(a)||(window.localStorage.setItem(i,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||o("https://www.google-analytics.com/collect",{v:1,t:"event",tid:e,cid:n,dp:n,dh:t,el:t,ec:"use"})}),1e3)))}},function(t,e,n){var r=n(6);t.exports=function(t,e){var n=document.createElement("img"),o="";return r(e,(function(t,e){o+="&"+e+"="+t})),o=o.substring(1),n.src=t+"?"+o,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}}])},Bn=An();const Sn=document.querySelector("#pagination"),Pn=new(n(Bn))(Sn,{totalItems:0,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!0,template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn current-color tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}"></span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}"></span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}});Pn.on("afterMove",(function(t){kn&&Tn(t.page)}));let Cn={page:1,results:[],total_pages:1,total_results:1},kn=async()=>{};async function Tn(t){try{Rn.movieList=await kn(t)}catch(t){console.error("Error fetching and rendering movies:",t.message)}}async function In(t){return kn=t,await Tn(),Pn.reset(Cn.total_results),Pn.movePageTo(Cn.page),Cn}const Rn={get movieList(){return Cn},set movieList(t){t&&(Cn=t,Sn.dispatchEvent(jn))},subscribe(t,e){Sn.addEventListener("pageChanged",t,e)},refreshPage(){Tn()}},jn=new CustomEvent("pageChanged");function Nn(t,e=document.getElementById("movies-list-home"),n="No movies!"){if(!t||!e)return;const{results:r}=t;empty=document.querySelector(".empty-library-message"),0===r.length&&empty?empty.innerHTML=n:(!function(t,e){t.innerHTML="",e.innerHTML=""}(e,empty),e.append(...r.map((t=>{const{title:e,poster_path:n}=t,r=n?`https://image.tmdb.org/t/p/w342${n}`:"https://placehold.co/342x513?text=No+poster",o=document.createElement("li");return o.classList.add("card-movie"),o.dataset.movieId=t.id,o.innerHTML=`\n                <div class="movie-poster">\n                    <img src="${r}" alt="${e}">\n                </div>\n                <div class="movie-name-container">\n                    <p class="movie-name">${e.toUpperCase()}</p>\n                    <p class="movie-genre-year">${En(t)}</p>\n                </div>\n            `,o}))))}document.addEventListener("DOMContentLoaded",(()=>{let t=!0;In((async e=>{if(void 0===e){if(!t)return;t=!1,e=1}const n=await _n("",e);return Nn(n),n}))}));const Mn=document.querySelector(".header-search");if(Mn){const t=Mn.elements.searchMovie;Mn.addEventListener("submit",(e=>{e.preventDefault(),async function(t){let e=!0;In((async n=>{if(void 0===n&&!e)return;e=!1,n??=1;const r=await _n(t,n);return Nn(r),r}))}(t.value??"")}))}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Ln=function(){return Ln=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ln.apply(this,arguments)};function Dn(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}var Fn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:t,Un=Object.keys,Kn=Array.isArray;function qn(t,e){return"object"!=typeof e||Un(e).forEach((function(n){t[n]=e[n]})),t}"undefined"==typeof Promise||Fn.Promise||(Fn.Promise=Promise);var Hn=Object.getPrototypeOf,zn={}.hasOwnProperty;function Vn(t,e){return zn.call(t,e)}function $n(t,e){"function"==typeof e&&(e=e(Hn(t))),("undefined"==typeof Reflect?Un:Reflect.ownKeys)(e).forEach((function(n){Jn(t,n,e[n])}))}var Wn=Object.defineProperty;function Jn(t,e,n,r){Wn(t,e,qn(n&&Vn(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Gn(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Jn(t.prototype,"constructor",t),{extend:$n.bind(null,t.prototype)}}}}var Yn=Object.getOwnPropertyDescriptor;function Qn(t,e){var n;return Yn(t,e)||(n=Hn(t))&&Qn(n,e)}var Xn=[].slice;function Zn(t,e,n){return Xn.call(t,e,n)}function tr(t,e){return e(t)}function er(t){if(!t)throw new Error("Assertion Failed")}function nr(t){Fn.setImmediate?setImmediate(t):setTimeout(t,0)}function rr(t,e){return t.reduce((function(t,n,r){var o=e(n,r);return o&&(t[o[0]]=o[1]),t}),{})}function or(t,e){if("string"==typeof e&&Vn(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],r=0,o=e.length;r<o;++r){var i=or(t,e[r]);n.push(i)}return n}var a=e.indexOf(".");if(-1!==a){var s=t[e.substr(0,a)];return null==s?void 0:or(s,e.substr(a+1))}}function ir(t,e,n){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){er("string"!=typeof n&&"length"in n);for(var r=0,o=e.length;r<o;++r)ir(t,e[r],n[r])}else{var i=e.indexOf(".");if(-1!==i){var a=e.substr(0,i),s=e.substr(i+1);if(""===s)void 0===n?Kn(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var u=t[a];u&&Vn(t,a)||(u=t[a]={}),ir(u,s,n)}}else void 0===n?Kn(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function ar(t){var e={};for(var n in t)Vn(t,n)&&(e[n]=t[n]);return e}var sr=[].concat;function ur(t){return sr.apply([],t)}var cr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ur([8,16,32,64].map((function(t){return["Int","Uint","Float"].map((function(e){return e+t+"Array"}))})))).filter((function(t){return Fn[t]})),lr=cr.map((function(t){return Fn[t]}));rr(cr,(function(t){return[t,!0]}));var fr=null;function hr(t){fr="undefined"!=typeof WeakMap&&new WeakMap;var e=pr(t);return fr=null,e}function pr(t){if(!t||"object"!=typeof t)return t;var e=fr&&fr.get(t);if(e)return e;if(Kn(t)){e=[],fr&&fr.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(pr(t[n]))}else if(lr.indexOf(t.constructor)>=0)e=t;else{var o=Hn(t);for(var i in e=o===Object.prototype?{}:Object.create(o),fr&&fr.set(t,e),t)Vn(t,i)&&(e[i]=pr(t[i]))}return e}var dr={}.toString;function yr(t){return dr.call(t).slice(8,-1)}var mr="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",gr="symbol"==typeof mr?function(t){var e;return null!=t&&(e=t[mr])&&e.apply(t)}:function(){return null},vr={};function br(t){var e,n,r,o;if(1===arguments.length){if(Kn(t))return t.slice();if(this===vr&&"string"==typeof t)return[t];if(o=gr(t)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==t)return[t];if("number"==typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var wr="undefined"!=typeof Symbol?function(t){return"AsyncFunction"===t[Symbol.toStringTag]}:function(){return!1},_r="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Er(t,e){_r=t,xr=e}var xr=function(){return!0},Or=!new Error("").stack;function Ar(){if(Or)try{throw Ar.arguments,new Error}catch(t){return t}return new Error}function Br(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(xr).map((function(t){return"\n"+t})).join("")):""}var Sr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Pr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Sr),Cr={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function kr(t,e){this._e=Ar(),this.name=t,this.message=e}function Tr(t,e){return t+". Errors: "+Object.keys(e).map((function(t){return e[t].toString()})).filter((function(t,e,n){return n.indexOf(t)===e})).join("\n")}function Ir(t,e,n,r){this._e=Ar(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=Tr(t,e)}function Rr(t,e){this._e=Ar(),this.name="BulkError",this.failures=Object.keys(e).map((function(t){return e[t]})),this.failuresByPos=e,this.message=Tr(t,e)}Gn(kr).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Br(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Gn(Ir).from(kr),Gn(Rr).from(kr);var jr=Pr.reduce((function(t,e){return t[e]=e+"Error",t}),{}),Nr=kr,Mr=Pr.reduce((function(t,e){var n=e+"Error";function r(t,r){this._e=Ar(),this.name=n,t?"string"==typeof t?(this.message=t+(r?"\n "+r:""),this.inner=r||null):"object"==typeof t&&(this.message=t.name+" "+t.message,this.inner=t):(this.message=Cr[e]||n,this.inner=null)}return Gn(r).from(Nr),t[e]=r,t}),{});Mr.Syntax=SyntaxError,Mr.Type=TypeError,Mr.Range=RangeError;var Lr=Sr.reduce((function(t,e){return t[e+"Error"]=Mr[e],t}),{});var Dr=Pr.reduce((function(t,e){return-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=Mr[e]),t}),{});function Fr(){}function Ur(t){return t}function Kr(t,e){return null==t||t===Ur?e:function(n){return e(t(n))}}function qr(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function Hr(t,e){return t===Fr?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?qr(r,this.onsuccess):r),o&&(this.onerror=this.onerror?qr(o,this.onerror):o),void 0!==i?i:n}}function zr(t,e){return t===Fr?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?qr(n,this.onsuccess):n),r&&(this.onerror=this.onerror?qr(r,this.onerror):r)}}function Vr(t,e){return t===Fr?e:function(n){var r=t.apply(this,arguments);qn(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?qr(o,this.onsuccess):o),i&&(this.onerror=this.onerror?qr(i,this.onerror):i),void 0===r?void 0===a?void 0:a:qn(r,a)}}function $r(t,e){return t===Fr?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function Wr(t,e){return t===Fr?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return e.apply(r,i)}))}return e.apply(this,arguments)}}Dr.ModifyError=Ir,Dr.DexieError=kr,Dr.BulkError=Rr;var Jr={},Gr="undefined"==typeof Promise?[]:function(){var t=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[t,Hn(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Hn(e),t]}(),Yr=Gr[0],Qr=Gr[1],Xr=Gr[2],Zr=Qr&&Qr.then,to=Yr&&Yr.constructor,eo=!!Xr,no=!1,ro=Xr?function(){Xr.then(So)}:Fn.setImmediate?setImmediate.bind(null,So):Fn.MutationObserver?function(){var t=document.createElement("div");new MutationObserver((function(){So(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(So,0)},oo=function(t,e){po.push([t,e]),ao&&(ro(),ao=!1)},io=!0,ao=!0,so=[],uo=[],co=null,lo=Ur,fo={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Qo,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(t){try{Qo(t[0],t[1])}catch(t){}}))}},ho=fo,po=[],yo=0,mo=[];function go(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Fr,this._lib=!1;var e=this._PSD=ho;if(_r&&(this._stackHolder=Ar(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==Jr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&_o(this,this._value))}this._state=null,this._value=null,++e.ref,wo(this,t)}var vo={get:function(){var t=ho,e=Lo;function n(n,r){var o=this,i=!t.global&&(t!==ho||e!==Lo),a=i&&!Ko(),s=new go((function(e,s){xo(o,new bo(Go(n,t,i,a),Go(r,t,i,a),e,s,t))}));return _r&&Bo(s,this),s}return n.prototype=Jr,n},set:function(t){Jn(this,"then",t&&t.prototype===Jr?vo:{get:function(){return t},set:vo.set})}};function bo(t,e,n,r,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r,this.psd=o}function wo(t,e){try{e((function(e){if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&Po();e&&"function"==typeof e.then?wo(t,(function(t,n){e instanceof go?e._then(t,n):e.then(t,n)})):(t._state=!0,t._value=e,Eo(t)),n&&Co()}}),_o.bind(null,t))}catch(e){_o(t,e)}}function _o(t,e){if(uo.push(e),null===t._state){var n=t._lib&&Po();e=lo(e),t._state=!1,t._value=e,_r&&null!==e&&"object"==typeof e&&!e._promise&&function(t,e,n){try{t.apply(null,n)}catch(t){e&&e(t)}}((function(){var n=Qn(e,"stack");e._promise=t,Jn(e,"stack",{get:function(){return no?n&&(n.get?n.get.apply(e):n.value):t.stack}})})),function(t){so.some((function(e){return e._value===t._value}))||so.push(t)}(t),Eo(t),n&&Co()}}function Eo(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)xo(t,e[n]);var o=t._PSD;--o.ref||o.finalize(),0===yo&&(++yo,oo((function(){0==--yo&&ko()}),[]))}function xo(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++yo,oo(Oo,[n,t,e])}else t._listeners.push(e)}function Oo(t,e,n){try{co=e;var r,o=e._value;e._state?r=t(o):(uo.length&&(uo=[]),r=t(o),-1===uo.indexOf(o)&&function(t){var e=so.length;for(;e;)if(so[--e]._value===t._value)return void so.splice(e,1)}(e)),n.resolve(r)}catch(t){n.reject(t)}finally{co=null,0==--yo&&ko(),--n.psd.ref||n.psd.finalize()}}function Ao(t,e,n){if(e.length===n)return e;var r="";if(!1===t._state){var o,i,a=t._value;null!=a?(o=a.name||"Error",i=a.message||a,r=Br(a,0)):(o=a,i=""),e.push(o+(i?": "+i:"")+r)}return _r&&((r=Br(t._stackHolder,2))&&-1===e.indexOf(r)&&e.push(r),t._prev&&Ao(t._prev,e,n)),e}function Bo(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function So(){Po()&&Co()}function Po(){var t=io;return io=!1,ao=!1,t}function Co(){var t,e,n;do{for(;po.length>0;)for(t=po,po=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}}while(po.length>0);io=!0,ao=!0}function ko(){var t=so;so=[],t.forEach((function(t){t._PSD.onunhandled.call(null,t._value,t)}));for(var e=mo.slice(0),n=e.length;n;)e[--n]()}function To(t){return new go(Jr,!1,t)}function Io(t,e){var n=ho;return function(){var r=Po(),o=ho;try{return Vo(n,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{Vo(o,!1),r&&Co()}}}$n(go.prototype,{then:vo,_then:function(t,e){xo(this,new bo(null,null,t,e,ho))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return"function"==typeof e?this.then(null,(function(t){return t instanceof e?n(t):To(t)})):this.then(null,(function(t){return t&&t.name===e?n(t):To(t)}))},finally:function(t){return this.then((function(e){return t(),e}),(function(e){return t(),To(e)}))},stack:{get:function(){if(this._stack)return this._stack;try{no=!0;var t=Ao(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{no=!1}}},timeout:function(t,e){var n=this;return t<1/0?new go((function(r,o){var i=setTimeout((function(){return o(new Mr.Timeout(e))}),t);n.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Jn(go.prototype,Symbol.toStringTag,"Dexie.Promise"),fo.env=$o(),$n(go,{all:function(){var t=br.apply(null,arguments).map(qo);return new go((function(e,n){0===t.length&&e([]);var r=t.length;t.forEach((function(o,i){return go.resolve(o).then((function(n){t[i]=n,--r||e(t)}),n)}))}))},resolve:function(t){if(t instanceof go)return t;if(t&&"function"==typeof t.then)return new go((function(e,n){t.then(e,n)}));var e=new go(Jr,!0,t);return Bo(e,co),e},reject:To,race:function(){var t=br.apply(null,arguments).map(qo);return new go((function(e,n){t.map((function(t){return go.resolve(t).then(e,n)}))}))},PSD:{get:function(){return ho},set:function(t){return ho=t}},totalEchoes:{get:function(){return Lo}},newPSD:Fo,usePSD:Wo,scheduler:{get:function(){return oo},set:function(t){oo=t}},rejectionMapper:{get:function(){return lo},set:function(t){lo=t}},follow:function(t,e){return new go((function(n,r){return Fo((function(e,n){var r=ho;r.unhandleds=[],r.onunhandled=n,r.finalize=qr((function(){var t=this;!function(t){function e(){t(),mo.splice(mo.indexOf(e),1)}mo.push(e),++yo,oo((function(){0==--yo&&ko()}),[])}((function(){0===t.unhandleds.length?e():n(t.unhandleds[0])}))}),r.finalize),t()}),e,n,r)}))}}),to&&(to.allSettled&&Jn(go,"allSettled",(function(){var t=br.apply(null,arguments).map(qo);return new go((function(e){0===t.length&&e([]);var n=t.length,r=new Array(n);t.forEach((function(t,o){return go.resolve(t).then((function(t){return r[o]={status:"fulfilled",value:t}}),(function(t){return r[o]={status:"rejected",reason:t}})).then((function(){return--n||e(r)}))}))}))})),to.any&&"undefined"!=typeof AggregateError&&Jn(go,"any",(function(){var t=br.apply(null,arguments).map(qo);return new go((function(e,n){0===t.length&&n(new AggregateError([]));var r=t.length,o=new Array(r);t.forEach((function(t,i){return go.resolve(t).then((function(t){return e(t)}),(function(t){o[i]=t,--r||n(new AggregateError(o))}))}))}))})));var Ro={awaits:0,echoes:0,id:0},jo=0,No=[],Mo=0,Lo=0,Do=0;function Fo(t,e,n,r){var o=ho,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++Do;var a=fo.env;i.env=eo?{Promise:go,PromiseProp:{value:go,configurable:!0,writable:!0},all:go.all,race:go.race,allSettled:go.allSettled,any:go.any,resolve:go.resolve,reject:go.reject,nthen:Yo(a.nthen,i),gthen:Yo(a.gthen,i)}:{},e&&qn(i,e),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Wo(i,t,n,r);return 0===i.ref&&i.finalize(),s}function Uo(){return Ro.id||(Ro.id=++jo),++Ro.awaits,Ro.echoes+=100,Ro.id}function Ko(){return!!Ro.awaits&&(0==--Ro.awaits&&(Ro.id=0),Ro.echoes=100*Ro.awaits,!0)}function qo(t){return Ro.echoes&&t&&t.constructor===to?(Uo(),t.then((function(t){return Ko(),t}),(function(t){return Ko(),Xo(t)}))):t}function Ho(t){++Lo,Ro.echoes&&0!=--Ro.echoes||(Ro.echoes=Ro.id=0),No.push(ho),Vo(t,!0)}function zo(){var t=No[No.length-1];No.pop(),Vo(t,!1)}function Vo(t,e){var n=ho;if((e?!Ro.echoes||Mo++&&t===ho:!Mo||--Mo&&t===ho)||Jo(e?Ho.bind(null,t):zo),t!==ho&&(ho=t,n===fo&&(fo.env=$o()),eo)){var r=fo.env.Promise,o=t.env;Qr.then=o.nthen,r.prototype.then=o.gthen,(n.global||t.global)&&(Object.defineProperty(Fn,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function $o(){var t=Fn.Promise;return eo?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Fn,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Qr.then,gthen:t.prototype.then}:{}}function Wo(t,e,n,r,o){var i=ho;try{return Vo(t,!0),e(n,r,o)}finally{Vo(i,!1)}}function Jo(t){Zr.call(Yr,t)}function Go(t,e,n,r){return"function"!=typeof t?t:function(){var o=ho;n&&Uo(),Vo(e,!0);try{return t.apply(this,arguments)}finally{Vo(o,!1),r&&Jo(Ko)}}}function Yo(t,e){return function(n,r){return t.call(this,Go(n,e),Go(r,e))}}-1===(""+Zr).indexOf("[native code]")&&(Uo=Ko=Fr);function Qo(t,e){var n;try{n=e.onuncatched(t)}catch(t){}if(!1!==n)try{var r,o={promise:e,reason:t};if(Fn.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),qn(r,o)):Fn.CustomEvent&&qn(r=new CustomEvent("unhandledrejection",{detail:o}),o),r&&Fn.dispatchEvent&&(dispatchEvent(r),!Fn.PromiseRejectionEvent&&Fn.onunhandledrejection))try{Fn.onunhandledrejection(r)}catch(t){}_r&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch(t){}}var Xo=go.reject;function Zo(t,e,n,r){if(t.idbdb&&(t._state.openComplete||ho.letThrough||t._vip)){var o=t._createTransaction(e,n,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===jr.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((function(){return Zo(t,e,n,r)}))):Xo(o)}return o._promise(e,(function(t,e){return Fo((function(){return ho.trans=o,r(t,e,o)}))})).then((function(t){return o._completion.then((function(){return t}))}))}if(t._state.openComplete)return Xo(new Mr.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Xo(new Mr.DatabaseClosed);t.open().catch(Fr)}return t._state.dbReadyPromise.then((function(){return Zo(t,e,n,r)}))}var ti=String.fromCharCode(65535),ei="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ni=[],ri="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),oi=ri,ii=ri,ai=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)};function si(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var ui={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ci(t){return"string"!=typeof t||/\./.test(t)?function(t){return t}:function(e){return void 0===e[t]&&t in e&&delete(e=hr(e))[t],e}}var li=function(){function t(){}return t.prototype._trans=function(t,e,n){var r=this._tx||ho.trans,o=this.name;function i(t,n,r){if(!r.schema[o])throw new Mr.NotFound("Table "+o+" not part of transaction");return e(r.idbtrans,r)}var a=Po();try{return r&&r.db===this.db?r===ho.trans?r._promise(t,i,n):Fo((function(){return r._promise(t,i,n)}),{trans:r,transless:ho.transless||ho}):Zo(this.db,t,[this.name],i)}finally{a&&Co()}},t.prototype.get=function(t,e){var n=this;return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",(function(e){return n.core.get({trans:e,key:t}).then((function(t){return n.hook.reading.fire(t)}))})).then(e)},t.prototype.where=function(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(Kn(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var e=Un(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(t){if(t.compound&&e.every((function(e){return t.keyPath.indexOf(e)>=0}))){for(var n=0;n<e.length;++n)if(-1===e.indexOf(t.keyPath[n]))return!1;return!0}return!1})).sort((function(t,e){return t.keyPath.length-e.keyPath.length}))[0];if(n&&this.db._maxKey!==ti){var r=n.keyPath.slice(0,e.length);return this.where(r).equals(r.map((function(e){return t[e]})))}!n&&_r&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a compound index ["+e.join("+")+"]");var o=this.schema.idxByName,i=this.db._deps.indexedDB;function a(t,e){try{return 0===i.cmp(t,e)}catch(t){return!1}}var s=e.reduce((function(e,n){var r=e[0],i=e[1],s=o[n],u=t[n];return[r||s,r||!s?si(i,s&&s.multi?function(t){var e=or(t,n);return Kn(e)&&e.some((function(t){return a(u,t)}))}:function(t){return a(u,or(t,n))}):i]}),[null,null]),u=s[0],c=s[1];return u?this.where(u.name).equals(t[u.keyPath]).filter(c):n?this.filter(c):this.where(e).equals("")},t.prototype.filter=function(t){return this.toCollection().and(t)},t.prototype.count=function(t){return this.toCollection().count(t)},t.prototype.offset=function(t){return this.toCollection().offset(t)},t.prototype.limit=function(t){return this.toCollection().limit(t)},t.prototype.each=function(t){return this.toCollection().each(t)},t.prototype.toArray=function(t){return this.toCollection().toArray(t)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,Kn(t)?"["+t.join("+")+"]":t))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(t){this.schema.mappedClass=t;var e=function(e){if(!e)return e;var n=Object.create(t.prototype);for(var r in e)if(Vn(e,r))try{n[r]=e[r]}catch(t){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),t},t.prototype.defineClass=function(){return this.mapToClass((function(t){qn(this,t)}))},t.prototype.add=function(t,e){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=t;return i&&o&&(a=ci(i)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[a]})})).then((function(t){return t.numFailures?go.reject(t.failures[0]):t.lastResult})).then((function(e){if(i)try{ir(t,i,e)}catch(t){}return e}))},t.prototype.update=function(t,e){if("object"!=typeof t||Kn(t))return this.where(":id").equals(t).modify(e);var n=or(t,this.schema.primKey.keyPath);if(void 0===n)return Xo(new Mr.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof e?Un(e).forEach((function(n){ir(t,n,e[n])})):e(t,{value:t,primKey:n})}catch(t){}return this.where(":id").equals(n).modify(e)},t.prototype.put=function(t,e){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=t;return i&&o&&(a=ci(i)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"put",values:[a],keys:null!=e?[e]:null})})).then((function(t){return t.numFailures?go.reject(t.failures[0]):t.lastResult})).then((function(e){if(i)try{ir(t,i,e)}catch(t){}return e}))},t.prototype.delete=function(t){var e=this;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:[t]})})).then((function(t){return t.numFailures?go.reject(t.failures[0]):void 0}))},t.prototype.clear=function(){var t=this;return this._trans("readwrite",(function(e){return t.core.mutate({trans:e,type:"deleteRange",range:ui})})).then((function(t){return t.numFailures?go.reject(t.failures[0]):void 0}))},t.prototype.bulkGet=function(t){var e=this;return this._trans("readonly",(function(n){return e.core.getMany({keys:t,trans:n}).then((function(t){return t.map((function(t){return e.hook.reading.fire(t)}))}))}))},t.prototype.bulkAdd=function(t,e,n){var r=this,o=Array.isArray(e)?e:void 0,i=(n=n||(o?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=r.schema.primKey,a=n.auto,s=n.keyPath;if(s&&o)throw new Mr.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new Mr.InvalidArgument("Arguments objects and keys must have the same length");var u=t.length,c=s&&a?t.map(ci(s)):t;return r.core.mutate({trans:e,type:"add",keys:o,values:c,wantResults:i}).then((function(t){var e=t.numFailures,n=t.results,o=t.lastResult,a=t.failures;if(0===e)return i?n:o;throw new Rr(r.name+".bulkAdd(): "+e+" of "+u+" operations failed",a)}))}))},t.prototype.bulkPut=function(t,e,n){var r=this,o=Array.isArray(e)?e:void 0,i=(n=n||(o?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=r.schema.primKey,a=n.auto,s=n.keyPath;if(s&&o)throw new Mr.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new Mr.InvalidArgument("Arguments objects and keys must have the same length");var u=t.length,c=s&&a?t.map(ci(s)):t;return r.core.mutate({trans:e,type:"put",keys:o,values:c,wantResults:i}).then((function(t){var e=t.numFailures,n=t.results,o=t.lastResult,a=t.failures;if(0===e)return i?n:o;throw new Rr(r.name+".bulkPut(): "+e+" of "+u+" operations failed",a)}))}))},t.prototype.bulkDelete=function(t){var e=this,n=t.length;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:t})})).then((function(t){var r=t.numFailures,o=t.lastResult,i=t.failures;if(0===r)return o;throw new Rr(e.name+".bulkDelete(): "+r+" of "+n+" operations failed",i)}))},t}();function fi(t){var e={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return e[n].subscribe.apply(null,i),t}if("string"==typeof n)return e[n]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(t,r,o){if("object"==typeof t)return a(t);r||(r=$r),o||(o=Fr);var i={subscribers:[],fire:o,subscribe:function(t){-1===i.subscribers.indexOf(t)&&(i.subscribers.push(t),i.fire=r(i.fire,t))},unsubscribe:function(t){i.subscribers=i.subscribers.filter((function(e){return e!==t})),i.fire=i.subscribers.reduce(r,o)}};return e[t]=n[t]=i,i}function a(t){Un(t).forEach((function(e){var n=t[e];if(Kn(n))i(e,t[e][0],t[e][1]);else{if("asap"!==n)throw new Mr.InvalidArgument("Invalid event config");var r=i(e,Ur,(function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];r.subscribers.forEach((function(t){nr((function(){t.apply(null,e)}))}))}))}}))}}function hi(t,e){return Gn(e).from({prototype:t}),e}function pi(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function di(t,e){t.filter=si(t.filter,e)}function yi(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return si(r(),e())}:e,t.justLimit=n&&!r}function mi(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new Mr.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function gi(t,e,n){var r=mi(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:r,range:t.range}})}function vi(t,e,n,r){var o=t.replayFilter?si(t.filter,t.replayFilter()):t.filter;if(t.or){var i={},a=function(t,n,r){if(!o||o(n,r,(function(t){return n.stop(t)}),(function(t){return n.fail(t)}))){var a=n.primaryKey,s=""+a;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(a)),Vn(i,s)||(i[s]=!0,e(t,n,r))}};return Promise.all([t.or._iterate(a,n),bi(gi(t,r,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return bi(gi(t,r,n),si(t.algorithm,o),e,!t.keysOnly&&t.valueMapper)}function bi(t,e,n,r){var o=Io(r?function(t,e,o){return n(r(t),e,o)}:n);return t.then((function(t){if(t)return t.start((function(){var n=function(){return t.continue()};e&&!e(t,(function(t){return n=t}),(function(e){t.stop(e),n=Fr}),(function(e){t.fail(e),n=Fr}))||o(t.value,t,(function(t){return n=t})),n()}))}))}function wi(t,e){try{var n=_i(t),r=_i(e);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(t,e){for(var n=t.length,r=e.length,o=n<r?n:r,i=0;i<o;++i)if(t[i]!==e[i])return t[i]<e[i]?-1:1;return n===r?0:n<r?-1:1}(Ei(t),Ei(e));case"Array":return function(t,e){for(var n=t.length,r=e.length,o=n<r?n:r,i=0;i<o;++i){var a=wi(t[i],e[i]);if(0!==a)return a}return n===r?0:n<r?-1:1}(t,e)}}catch(t){}return NaN}function _i(t){var e=typeof t;if("object"!==e)return e;if(ArrayBuffer.isView(t))return"binary";var n=yr(t);return"ArrayBuffer"===n?"binary":n}function Ei(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var xi=function(){function t(){}return t.prototype._read=function(t,e){var n=this._ctx;return n.error?n.table._trans(null,Xo.bind(null,n.error)):n.table._trans("readonly",t).then(e)},t.prototype._write=function(t){var e=this._ctx;return e.error?e.table._trans(null,Xo.bind(null,e.error)):e.table._trans("readwrite",t,"locked")},t.prototype._addAlgorithm=function(t){var e=this._ctx;e.algorithm=si(e.algorithm,t)},t.prototype._iterate=function(t,e){return vi(this._ctx,t,e,this._ctx.table.core)},t.prototype.clone=function(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&qn(n,t),e._ctx=n,e},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(t){var e=this._ctx;return this._read((function(n){return vi(e,t,n,e.table.core)}))},t.prototype.count=function(t){var e=this;return this._read((function(t){var n=e._ctx,r=n.table.core;if(pi(n,!0))return r.count({trans:t,query:{index:mi(n,r.schema),range:n.range}}).then((function(t){return Math.min(t,n.limit)}));var o=0;return vi(n,(function(){return++o,!1}),t,r).then((function(){return o}))})).then(t)},t.prototype.sortBy=function(t,e){var n=t.split(".").reverse(),r=n[0],o=n.length-1;function i(t,e){return e?i(t[n[e]],e-1):t[r]}var a="next"===this._ctx.dir?1:-1;function s(t,e){var n=i(t,o),r=i(e,o);return n<r?-a:n>r?a:0}return this.toArray((function(t){return t.sort(s)})).then(e)},t.prototype.toArray=function(t){var e=this;return this._read((function(t){var n=e._ctx;if("next"===n.dir&&pi(n,!0)&&n.limit>0){var r=n.valueMapper,o=mi(n,n.table.core.schema);return n.table.core.query({trans:t,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then((function(t){var e=t.result;return r?e.map(r):e}))}var i=[];return vi(n,(function(t){return i.push(t)}),t,n.table.core).then((function(){return i}))}),t)},t.prototype.offset=function(t){var e=this._ctx;return t<=0||(e.offset+=t,pi(e)?yi(e,(function(){var e=t;return function(t,n){return 0===e||(1===e?(--e,!1):(n((function(){t.advance(e),e=0})),!1))}})):yi(e,(function(){var e=t;return function(){return--e<0}}))),this},t.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),yi(this._ctx,(function(){var e=t;return function(t,n,r){return--e<=0&&n(r),e>=0}}),!0),this},t.prototype.until=function(t,e){return di(this._ctx,(function(n,r,o){return!t(n.value)||(r(o),e)})),this},t.prototype.first=function(t){return this.limit(1).toArray((function(t){return t[0]})).then(t)},t.prototype.last=function(t){return this.reverse().first(t)},t.prototype.filter=function(t){var e,n;return di(this._ctx,(function(e){return t(e.value)})),e=this._ctx,n=t,e.isMatch=si(e.isMatch,n),this},t.prototype.and=function(t){return this.filter(t)},t.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},t.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.key,n)}))},t.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},t.prototype.eachPrimaryKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.primaryKey,n)}))},t.prototype.keys=function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.key)})).then((function(){return n})).then(t)},t.prototype.primaryKeys=function(t){var e=this._ctx;if("next"===e.dir&&pi(e,!0)&&e.limit>0)return this._read((function(t){var n=mi(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:n,range:e.range}})})).then((function(t){return t.result})).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.primaryKey)})).then((function(){return n})).then(t)},t.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},t.prototype.firstKey=function(t){return this.limit(1).keys((function(t){return t[0]})).then(t)},t.prototype.lastKey=function(t){return this.reverse().firstKey(t)},t.prototype.distinct=function(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var n={};return di(this._ctx,(function(t){var e=t.primaryKey.toString(),r=Vn(n,e);return n[e]=!0,!r})),this},t.prototype.modify=function(t){var e=this,n=this._ctx;return this._write((function(r){var o;if("function"==typeof t)o=t;else{var i=Un(t),a=i.length;o=function(e){for(var n=!1,r=0;r<a;++r){var o=i[r],s=t[o];or(e,o)!==s&&(ir(e,o,s),n=!0)}return n}}var s=n.table.core,u=s.schema.primaryKey,c=u.outbound,l=u.extractKey,f=e.db._options.modifyChunkSize||200,h=[],p=0,d=[],y=function(t,e){var n=e.failures,r=e.numFailures;p+=t-r;for(var o=0,i=Un(n);o<i.length;o++){var a=i[o];h.push(n[a])}};return e.clone().primaryKeys().then((function(e){var i=function(a){var u=Math.min(f,e.length-a);return s.getMany({trans:r,keys:e.slice(a,a+u),cache:"immutable"}).then((function(h){for(var p=[],d=[],m=c?[]:null,g=[],v=0;v<u;++v){var b=h[v],w={value:hr(b),primKey:e[a+v]};!1!==o.call(w,w.value,w)&&(null==w.value?g.push(e[a+v]):c||0===wi(l(b),l(w.value))?(d.push(w.value),c&&m.push(e[a+v])):(g.push(e[a+v]),p.push(w.value)))}var _=pi(n)&&n.limit===1/0&&("function"!=typeof t||t===Oi)&&{index:n.index,range:n.range};return Promise.resolve(p.length>0&&s.mutate({trans:r,type:"add",values:p}).then((function(t){for(var e in t.failures)g.splice(parseInt(e),1);y(p.length,t)}))).then((function(){return(d.length>0||_&&"object"==typeof t)&&s.mutate({trans:r,type:"put",keys:m,values:d,criteria:_,changeSpec:"function"!=typeof t&&t}).then((function(t){return y(d.length,t)}))})).then((function(){return(g.length>0||_&&t===Oi)&&s.mutate({trans:r,type:"delete",keys:g,criteria:_}).then((function(t){return y(g.length,t)}))})).then((function(){return e.length>a+u&&i(a+f)}))}))};return i(0).then((function(){if(h.length>0)throw new Ir("Error modifying one or more objects",h,p,d);return e.length}))}))}))},t.prototype.delete=function(){var t=this._ctx,e=t.range;return pi(t)&&(t.isPrimKey&&!ii||3===e.type)?this._write((function(n){var r=t.table.core.schema.primaryKey,o=e;return t.table.core.count({trans:n,query:{index:r,range:o}}).then((function(e){return t.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((function(t){var n=t.failures;t.lastResult,t.results;var r=t.numFailures;if(r)throw new Ir("Could not delete some values",Object.keys(n).map((function(t){return n[t]})),e-r);return e-r}))}))})):this.modify(Oi)},t}(),Oi=function(t,e){return e.value=null};function Ai(t,e){return t<e?-1:t===e?0:1}function Bi(t,e){return t>e?-1:t===e?0:1}function Si(t,e,n){var r=t instanceof Ri?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Pi(t){return new t.Collection(t,(function(){return Ii("")})).limit(0)}function Ci(t,e,n,r,o,i){for(var a=Math.min(t.length,r.length),s=-1,u=0;u<a;++u){var c=e[u];if(c!==r[u])return o(t[u],n[u])<0?t.substr(0,u)+n[u]+n.substr(u+1):o(t[u],r[u])<0?t.substr(0,u)+r[u]+n.substr(u+1):s>=0?t.substr(0,s)+e[s]+n.substr(s+1):null;o(t[u],c)<0&&(s=u)}return a<r.length&&"next"===i?t+n.substr(t.length):a<t.length&&"prev"===i?t.substr(0,n.length):s<0?null:t.substr(0,s)+r[s]+n.substr(s+1)}function ki(t,e,n,r){var o,i,a,s,u,c,l,f=n.length;if(!n.every((function(t){return"string"==typeof t})))return Si(t,"String expected.");function h(t){o=function(t){return"next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}(t),i=function(t){return"next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}(t),a="next"===t?Ai:Bi;var e=n.map((function(t){return{lower:i(t),upper:o(t)}})).sort((function(t,e){return a(t.lower,e.lower)}));s=e.map((function(t){return t.upper})),u=e.map((function(t){return t.lower})),c=t,l="next"===t?"":r}h("next");var p=new t.Collection(t,(function(){return Ti(s[0],u[f-1]+r)}));p._ondirectionchange=function(t){h(t)};var d=0;return p._addAlgorithm((function(t,n,r){var o=t.key;if("string"!=typeof o)return!1;var h=i(o);if(e(h,u,d))return!0;for(var p=null,y=d;y<f;++y){var m=Ci(o,h,s[y],u[y],a,c);null===m&&null===p?d=y+1:(null===p||a(p,m)>0)&&(p=m)}return n(null!==p?function(){t.continue(p+l)}:r),!1})),p}function Ti(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function Ii(t){return{type:1,lower:t,upper:t}}var Ri=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(t,e,n,r){n=!1!==n,r=!0===r;try{return this._cmp(t,e)>0||0===this._cmp(t,e)&&(n||r)&&(!n||!r)?Pi(this):new this.Collection(this,(function(){return Ti(t,e,!n,!r)}))}catch(t){return Si(this,ei)}},t.prototype.equals=function(t){return null==t?Si(this,ei):new this.Collection(this,(function(){return Ii(t)}))},t.prototype.above=function(t){return null==t?Si(this,ei):new this.Collection(this,(function(){return Ti(t,void 0,!0)}))},t.prototype.aboveOrEqual=function(t){return null==t?Si(this,ei):new this.Collection(this,(function(){return Ti(t,void 0,!1)}))},t.prototype.below=function(t){return null==t?Si(this,ei):new this.Collection(this,(function(){return Ti(void 0,t,!1,!0)}))},t.prototype.belowOrEqual=function(t){return null==t?Si(this,ei):new this.Collection(this,(function(){return Ti(void 0,t)}))},t.prototype.startsWith=function(t){return"string"!=typeof t?Si(this,"String expected."):this.between(t,t+ti,!0,!0)},t.prototype.startsWithIgnoreCase=function(t){return""===t?this.startsWith(t):ki(this,(function(t,e){return 0===t.indexOf(e[0])}),[t],ti)},t.prototype.equalsIgnoreCase=function(t){return ki(this,(function(t,e){return t===e[0]}),[t],"")},t.prototype.anyOfIgnoreCase=function(){var t=br.apply(vr,arguments);return 0===t.length?Pi(this):ki(this,(function(t,e){return-1!==e.indexOf(t)}),t,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var t=br.apply(vr,arguments);return 0===t.length?Pi(this):ki(this,(function(t,e){return e.some((function(e){return 0===t.indexOf(e)}))}),t,ti)},t.prototype.anyOf=function(){var t=this,e=br.apply(vr,arguments),n=this._cmp;try{e.sort(n)}catch(t){return Si(this,ei)}if(0===e.length)return Pi(this);var r=new this.Collection(this,(function(){return Ti(e[0],e[e.length-1])}));r._ondirectionchange=function(r){n="next"===r?t._ascending:t._descending,e.sort(n)};var o=0;return r._addAlgorithm((function(t,r,i){for(var a=t.key;n(a,e[o])>0;)if(++o===e.length)return r(i),!1;return 0===n(a,e[o])||(r((function(){t.continue(e[o])})),!1)})),r},t.prototype.notEqual=function(t){return this.inAnyRange([[-(1/0),t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var t=br.apply(vr,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(t){return Si(this,ei)}var e=t.reduce((function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[-(1/0),e]]}),null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(t,e){var n=this,r=this._cmp,o=this._ascending,i=this._descending,a=this._min,s=this._max;if(0===t.length)return Pi(this);if(!t.every((function(t){return void 0!==t[0]&&void 0!==t[1]&&o(t[0],t[1])<=0})))return Si(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Mr.InvalidArgument);var u=!e||!1!==e.includeLowers,c=e&&!0===e.includeUppers;var l,f=o;function h(t,e){return f(t[0],e[0])}try{(l=t.reduce((function(t,e){for(var n=0,o=t.length;n<o;++n){var i=t[n];if(r(e[0],i[1])<0&&r(e[1],i[0])>0){i[0]=a(i[0],e[0]),i[1]=s(i[1],e[1]);break}}return n===o&&t.push(e),t}),[])).sort(h)}catch(t){return Si(this,ei)}var p=0,d=c?function(t){return o(t,l[p][1])>0}:function(t){return o(t,l[p][1])>=0},y=u?function(t){return i(t,l[p][0])>0}:function(t){return i(t,l[p][0])>=0};var m=d,g=new this.Collection(this,(function(){return Ti(l[0][0],l[l.length-1][1],!u,!c)}));return g._ondirectionchange=function(t){"next"===t?(m=d,f=o):(m=y,f=i),l.sort(h)},g._addAlgorithm((function(t,e,r){for(var i=t.key;m(i);)if(++p===l.length)return e(r),!1;return!!function(t){return!d(t)&&!y(t)}(i)||(0===n._cmp(i,l[p][1])||0===n._cmp(i,l[p][0])||e((function(){f===o?t.continue(l[p][0]):t.continue(l[p][1])})),!1)})),g},t.prototype.startsWithAnyOf=function(){var t=br.apply(vr,arguments);return t.every((function(t){return"string"==typeof t}))?0===t.length?Pi(this):this.inAnyRange(t.map((function(t){return[t,t+ti]}))):Si(this,"startsWithAnyOf() only works with strings")},t}();function ji(t){return Io((function(e){return Ni(e),t(e.target.error),!1}))}function Ni(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var Mi=fi(null,"storagemutated"),Li=function(){function t(){}return t.prototype._lock=function(){return er(!ho.global),++this._reculock,1!==this._reculock||ho.global||(ho.lockOwnerFor=this),this},t.prototype._unlock=function(){if(er(!ho.global),0==--this._reculock)for(ho.global||(ho.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Wo(t[1],t[0])}catch(t){}}return this},t.prototype._locked=function(){return this._reculock&&ho.lockOwnerFor!==this},t.prototype.create=function(t){var e=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(er(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Mr.DatabaseClosed(r);case"MissingAPIError":throw new Mr.MissingAPI(r.message,r);default:throw new Mr.OpenFailed(r)}if(!this.active)throw new Mr.TransactionInactive;return er(null===this._completion._state),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Io((function(n){Ni(n),e._reject(t.error)})),t.onabort=Io((function(n){Ni(n),e.active&&e._reject(new Mr.Abort(t.error)),e.active=!1,e.on("abort").fire(n)})),t.oncomplete=Io((function(){e.active=!1,e._resolve(),"mutatedParts"in t&&Mi.storagemutated.fire(t.mutatedParts)})),this},t.prototype._promise=function(t,e,n){var r=this;if("readwrite"===t&&"readwrite"!==this.mode)return Xo(new Mr.ReadOnly("Transaction is readonly"));if(!this.active)return Xo(new Mr.TransactionInactive);if(this._locked())return new go((function(o,i){r._blockedFuncs.push([function(){r._promise(t,e,n).then(o,i)},ho])}));if(n)return Fo((function(){var t=new go((function(t,n){r._lock();var o=e(t,n,r);o&&o.then&&o.then(t,n)}));return t.finally((function(){return r._unlock()})),t._lib=!0,t}));var o=new go((function(t,n){var o=e(t,n,r);o&&o.then&&o.then(t,n)}));return o._lib=!0,o},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(t){var e=this._root(),n=go.resolve(t);if(e._waitingFor)e._waitingFor=e._waitingFor.then((function(){return n}));else{e._waitingFor=n,e._waitingQueue=[];var r=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(r.get(-1/0).onsuccess=t)}()}var o=e._waitingFor;return new go((function(t,r){n.then((function(n){return e._waitingQueue.push(Io(t.bind(null,n)))}),(function(t){return e._waitingQueue.push(Io(r.bind(null,t)))})).finally((function(){e._waitingFor===o&&(e._waitingFor=null)}))}))},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Mr.Abort))},t.prototype.table=function(t){var e=this._memoizedTables||(this._memoizedTables={});if(Vn(e,t))return e[t];var n=this.schema[t];if(!n)throw new Mr.NotFound("Table "+t+" not part of transaction");var r=new this.db.Table(t,n,this);return r.core=this.db.core.table(t),e[t]=r,r},t}();function Di(t,e,n,r,o,i,a){return{name:t,keyPath:e,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+Fi(e)}}function Fi(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function Ui(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:rr(n,(function(t){return[t.name,t]}))}}var Ki=function(t){try{return t.only([[]]),Ki=function(){return[[]]},[[]]}catch(t){return Ki=function(){return ti},ti}};function qi(t){return null==t?function(){}:"string"==typeof t?function(t){return 1===t.split(".").length?function(e){return e[t]}:function(e){return or(e,t)}}(t):function(e){return or(e,t)}}function Hi(t){return[].slice.call(t)}var zi=0;function Vi(t){return null==t?":id":"string"==typeof t?t:"["+t.join("+")+"]"}function $i(t,e,n){function r(t){if(3===t.type)return null;if(4===t.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=t.lower,r=t.upper,o=t.lowerOpen,i=t.upperOpen;return void 0===n?void 0===r?null:e.upperBound(r,!!i):void 0===r?e.lowerBound(n,!!o):e.bound(n,r,!!o,!!i)}var o,i,a,s=(i=n,a=Hi((o=t).objectStoreNames),{schema:{name:o.name,tables:a.map((function(t){return i.objectStore(t)})).map((function(t){var e=t.keyPath,n=t.autoIncrement,r=Kn(e),o=null==e,i={},a={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:e,autoIncrement:n,unique:!0,extractKey:qi(e)},indexes:Hi(t.indexNames).map((function(e){return t.index(e)})).map((function(t){var e=t.name,n=t.unique,r=t.multiEntry,o=t.keyPath,a={name:e,compound:Kn(o),keyPath:o,unique:n,multiEntry:r,extractKey:qi(o)};return i[Vi(o)]=a,a})),getIndexByKeyPath:function(t){return i[Vi(t)]}};return i[":id"]=a.primaryKey,null!=e&&(i[Vi(e)]=a.primaryKey),a}))},hasGetAll:a.length>0&&"getAll"in i.objectStore(a[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),u=s.schema,c=s.hasGetAll,l=u.tables.map((function(t){return function(t){var e,n=t.name;return{name:n,schema:t,mutate:function(t){var e=t.trans,o=t.type,i=t.keys,a=t.values,s=t.range;return new Promise((function(t,u){t=Io(t);var c=e.objectStore(n),l=null==c.keyPath,f="put"===o||"add"===o;if(!f&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var h,p=(i||a||{length:1}).length;if(i&&a&&i.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===p)return t({numFailures:0,failures:{},results:[],lastResult:void 0});var d=[],y=[],m=0,g=function(t){++m,Ni(t)};if("deleteRange"===o){if(4===s.type)return t({numFailures:m,failures:y,results:[],lastResult:void 0});3===s.type?d.push(h=c.clear()):d.push(h=c.delete(r(s)))}else{var v=f?l?[a,i]:[a,null]:[i,null],b=v[0],w=v[1];if(f)for(var _=0;_<p;++_)d.push(h=w&&void 0!==w[_]?c[o](b[_],w[_]):c[o](b[_])),h.onerror=g;else for(_=0;_<p;++_)d.push(h=c[o](b[_])),h.onerror=g}var E=function(e){var n=e.target.result;d.forEach((function(t,e){return null!=t.error&&(y[e]=t.error)})),t({numFailures:m,failures:y,results:"delete"===o?i:d.map((function(t){return t.result})),lastResult:n})};h.onerror=function(t){g(t),E(t)},h.onsuccess=E}))},getMany:function(t){var e=t.trans,r=t.keys;return new Promise((function(t,o){t=Io(t);for(var i,a=e.objectStore(n),s=r.length,u=new Array(s),c=0,l=0,f=function(e){var n=e.target;u[n._pos]=n.result,++l===c&&t(u)},h=ji(o),p=0;p<s;++p)null!=r[p]&&((i=a.get(r[p]))._pos=p,i.onsuccess=f,i.onerror=h,++c);0===c&&t(u)}))},get:function(t){var e=t.trans,r=t.key;return new Promise((function(t,o){t=Io(t);var i=e.objectStore(n).get(r);i.onsuccess=function(e){return t(e.target.result)},i.onerror=ji(o)}))},query:(e=c,function(t){return new Promise((function(o,i){o=Io(o);var a=t.trans,s=t.values,u=t.limit,c=t.query,l=u===1/0?void 0:u,f=c.index,h=c.range,p=a.objectStore(n),d=f.isPrimaryKey?p:p.index(f.name),y=r(h);if(0===u)return o({result:[]});if(e){var m=s?d.getAll(y,l):d.getAllKeys(y,l);m.onsuccess=function(t){return o({result:t.target.result})},m.onerror=ji(i)}else{var g=0,v=s||!("openKeyCursor"in d)?d.openCursor(y):d.openKeyCursor(y),b=[];v.onsuccess=function(t){var e=v.result;return e?(b.push(s?e.value:e.primaryKey),++g===u?o({result:b}):void e.continue()):o({result:b})},v.onerror=ji(i)}}))}),openCursor:function(t){var e=t.trans,o=t.values,i=t.query,a=t.reverse,s=t.unique;return new Promise((function(t,u){t=Io(t);var c=i.index,l=i.range,f=e.objectStore(n),h=c.isPrimaryKey?f:f.index(c.name),p=a?s?"prevunique":"prev":s?"nextunique":"next",d=o||!("openKeyCursor"in h)?h.openCursor(r(l),p):h.openKeyCursor(r(l),p);d.onerror=ji(u),d.onsuccess=Io((function(n){var r=d.result;if(r){r.___id=++zi,r.done=!1;var o=r.continue.bind(r),i=r.continuePrimaryKey;i&&(i=i.bind(r));var a=r.advance.bind(r),s=function(){throw new Error("Cursor not stopped")};r.trans=e,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=Io(u),r.next=function(){var t=this,e=1;return this.start((function(){return e--?t.continue():t.stop()})).then((function(){return t}))},r.start=function(t){var e=new Promise((function(t,e){t=Io(t),d.onerror=ji(e),r.fail=e,r.stop=function(e){r.stop=r.continue=r.continuePrimaryKey=r.advance=s,t(e)}})),n=function(){if(d.result)try{t()}catch(t){r.fail(t)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return d.onsuccess=Io((function(t){d.onsuccess=n,n()})),r.continue=o,r.continuePrimaryKey=i,r.advance=a,n(),e},t(r)}else t(null)}),u)}))},count:function(t){var e=t.query,o=t.trans,i=e.index,a=e.range;return new Promise((function(t,e){var s=o.objectStore(n),u=i.isPrimaryKey?s:s.index(i.name),c=r(a),l=c?u.count(c):u.count();l.onsuccess=Io((function(e){return t(e.target.result)})),l.onerror=ji(e)}))}}}(t)})),f={};return l.forEach((function(t){return f[t.name]=t})),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(t){if(!f[t])throw new Error("Table '"+t+"' not found");return f[t]},MIN_KEY:-1/0,MAX_KEY:Ki(e),schema:u}}function Wi(t,e,n,r){var o=n.IDBKeyRange;n.indexedDB;var i=function(t,e){return e.reduce((function(t,e){var n=e.create;return Ln(Ln({},t),n(t))}),t)}($i(e,o,r),t.dbcore);return{dbcore:i}}function Ji(t,e){var n=t._novip,r=e.db,o=Wi(n._middlewares,r,n._deps,e);n.core=o.dbcore,n.tables.forEach((function(t){var e=t.name;n.core.schema.tables.some((function(t){return t.name===e}))&&(t.core=n.core.table(e),n[e]instanceof n.Table&&(n[e].core=t.core))}))}function Gi(t,e,n,r){var o=t._novip;n.forEach((function(t){var n=r[t];e.forEach((function(e){var r=Qn(e,t);(!r||"value"in r&&void 0===r.value)&&(e===o.Transaction.prototype||e instanceof o.Transaction?Jn(e,t,{get:function(){return this.table(t)},set:function(e){Wn(this,t,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):e[t]=new o.Table(t,n))}))}))}function Yi(t,e){var n=t._novip;e.forEach((function(t){for(var e in t)t[e]instanceof n.Table&&delete t[e]}))}function Qi(t,e){return t._cfg.version-e._cfg.version}function Xi(t,e,n,r){var o=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,o);i.create(n),i._completion.catch(r);var a=i._reject.bind(i),s=ho.transless||ho;Fo((function(){ho.trans=i,ho.transless=s,0===e?(Un(o).forEach((function(t){ta(n,t,o[t].primKey,o[t].indexes)})),Ji(t,n),go.follow((function(){return t.on.populate.fire(i)})).catch(a)):function(t,e,n,r){var o=t._novip,i=[],a=o._versions,s=o._dbSchema=na(o,o.idbdb,r),u=!1;function c(){return i.length?go.resolve(i.shift()(n.idbtrans)).then(c):go.resolve()}return a.filter((function(t){return t._cfg.version>=e})).forEach((function(t){i.push((function(){var i=s,a=t._cfg.dbschema;ra(o,i,r),ra(o,a,r),s=o._dbSchema=a;var c=Zi(i,a);c.add.forEach((function(t){ta(r,t[0],t[1].primKey,t[1].indexes)})),c.change.forEach((function(t){if(t.recreate)throw new Mr.Upgrade("Not yet support for changing primary key");var e=r.objectStore(t.name);t.add.forEach((function(t){return ea(e,t)})),t.change.forEach((function(t){e.deleteIndex(t.name),ea(e,t)})),t.del.forEach((function(t){return e.deleteIndex(t)}))}));var l=t._cfg.contentUpgrade;if(l&&t._cfg.version>e){Ji(o,r),n._memoizedTables={},u=!0;var f=ar(a);c.del.forEach((function(t){f[t]=i[t]})),Yi(o,[o.Transaction.prototype]),Gi(o,[o.Transaction.prototype],Un(f),f),n.schema=f;var h,p=wr(l);p&&Uo();var d=go.follow((function(){if((h=l(n))&&p){var t=Ko.bind(null,null);h.then(t,t)}}));return h&&"function"==typeof h.then?go.resolve(h):d.then((function(){return h}))}})),i.push((function(e){u&&oi||function(t,e){[].slice.call(e.db.objectStoreNames).forEach((function(n){return null==t[n]&&e.db.deleteObjectStore(n)}))}(t._cfg.dbschema,e);Yi(o,[o.Transaction.prototype]),Gi(o,[o.Transaction.prototype],o._storeNames,o._dbSchema),n.schema=o._dbSchema}))})),c().then((function(){var t,e;e=r,Un(t=s).forEach((function(n){e.db.objectStoreNames.contains(n)||ta(e,n,t[n].primKey,t[n].indexes)}))}))}(t,e,i,n).catch(a)}))}function Zi(t,e){var n,r={del:[],add:[],change:[]};for(n in t)e[n]||r.del.push(n);for(n in e){var o=t[n],i=e[n];if(o){var a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!ri)a.recreate=!0,r.change.push(a);else{var s=o.idxByName,u=i.idxByName,c=void 0;for(c in s)u[c]||a.del.push(c);for(c in u){var l=s[c],f=u[c];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,i])}return r}function ta(t,e,n,r){var o=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(t){return ea(o,t)})),o}function ea(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function na(t,e,n){var r={};return Zn(e.objectStoreNames,0).forEach((function(t){for(var e=n.objectStore(t),o=e.keyPath,i=Di(Fi(o),o||"",!1,!1,!!e.autoIncrement,o&&"string"!=typeof o,!0),a=[],s=0;s<e.indexNames.length;++s){var u=e.index(e.indexNames[s]);o=u.keyPath;var c=Di(u.name,o,!!u.unique,!!u.multiEntry,!1,o&&"string"!=typeof o,!1);a.push(c)}r[t]=Ui(t,i,a)})),r}function ra(t,e,n){for(var r=t._novip,o=n.db.objectStoreNames,i=0;i<o.length;++i){var a=o[i],s=n.objectStore(a);r._hasGetAll="getAll"in s;for(var u=0;u<s.indexNames.length;++u){var c=s.indexNames[u],l=s.index(c).keyPath,f="string"==typeof l?l:"["+Zn(l).join("+")+"]";if(e[a]){var h=e[a].idxByName[f];h&&(h.name=c,delete e[a].idxByName[f],e[a].idxByName[c]=h)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Fn.WorkerGlobalScope&&Fn instanceof Fn.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}var oa=function(){function t(){}return t.prototype._parseStoresSpec=function(t,e){Un(t).forEach((function(n){if(null!==t[n]){var r=t[n].split(",").map((function(t,e){var n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Di(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),Kn(r),0===e)})),o=r.shift();if(o.multi)throw new Mr.Schema("Primary key cannot be multi-valued");r.forEach((function(t){if(t.auto)throw new Mr.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new Mr.Schema("Index must have a name and cannot be an empty string")})),e[n]=Ui(n,o,r)}}))},t.prototype.stores=function(t){var e=this.db;this._cfg.storesSource=this._cfg.storesSource?qn(this._cfg.storesSource,t):t;var n=e._versions,r={},o={};return n.forEach((function(t){qn(r,t._cfg.storesSource),o=t._cfg.dbschema={},t._parseStoresSpec(r,o)})),e._dbSchema=o,Yi(e,[e._allTables,e,e.Transaction.prototype]),Gi(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],Un(o),o),e._storeNames=Un(o),this},t.prototype.upgrade=function(t){return this._cfg.contentUpgrade=Wr(this._cfg.contentUpgrade||Fr,t),this},t}();function ia(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new ka("__dbnames",{addons:[],indexedDB:t,IDBKeyRange:e})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function aa(t){return t&&"function"==typeof t.databases}function sa(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!aa(n)&&"__dbnames"!==e&&ia(n,r).delete(e).catch(Fr)}function ua(t){return Fo((function(){return ho.letThrough=!0,t()}))}function ca(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()})).finally((function(){return clearInterval(t)})):Promise.resolve()}function la(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then((function(){return e.dbOpenError?Xo(e.dbOpenError):t}));_r&&(e.openCanceller._stackHolder=Ar()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller;function o(){if(e.openCanceller!==r)throw new Mr.DatabaseClosed("db.open() was cancelled")}var i=e.dbReadyResolve,a=null,s=!1,u=function(){return new go((function(r,i){if(o(),!n)throw new Mr.MissingAPI;var u=t.name,c=e.autoSchema?n.open(u):n.open(u,Math.round(10*t.verno));if(!c)throw new Mr.MissingAPI;c.onerror=ji(i),c.onblocked=Io(t._fireOnBlocked),c.onupgradeneeded=Io((function(r){if(a=c.transaction,e.autoSchema&&!t._options.allowEmptyDB){c.onerror=Ni,a.abort(),c.result.close();var o=n.deleteDatabase(u);o.onsuccess=o.onerror=Io((function(){i(new Mr.NoSuchDatabase("Database "+u+" doesnt exist"))}))}else{a.onerror=ji(i);var l=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;s=l<1,t._novip.idbdb=c.result,Xi(t,l/10,a,i)}}),i),c.onsuccess=Io((function(){a=null;var n,o=t._novip.idbdb=c.result,i=Zn(o.objectStoreNames);if(i.length>0)try{var l=o.transaction(1===(n=i).length?n[0]:n,"readonly");e.autoSchema?function(t,e,n){var r=t._novip;r.verno=e.version/10;var o=r._dbSchema=na(0,e,n);r._storeNames=Zn(e.objectStoreNames,0),Gi(r,[r._allTables],Un(o),o)}(t,o,l):(ra(t,t._dbSchema,l),function(t,e){var n=Zi(na(0,t.idbdb,e),t._dbSchema);return!(n.add.length||n.change.some((function(t){return t.add.length||t.change.length})))}(t,l)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Ji(t,l)}catch(t){}ni.push(t),o.onversionchange=Io((function(n){e.vcFired=!0,t.on("versionchange").fire(n)})),o.onclose=Io((function(e){t.on("close").fire(e)})),s&&function(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!aa(n)&&"__dbnames"!==e&&ia(n,r).put({name:e}).catch(Fr)}(t._deps,u),r()}),i)})).catch((function(t){return t&&"UnknownError"===t.name&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),u()):go.reject(t)}))};return go.race([r,("undefined"==typeof navigator?go.resolve():ca()).then(u)]).then((function(){return o(),e.onReadyBeingFired=[],go.resolve(ua((function(){return t.on.ready.fire(t.vip)}))).then((function n(){if(e.onReadyBeingFired.length>0){var r=e.onReadyBeingFired.reduce(Wr,Fr);return e.onReadyBeingFired=[],go.resolve(ua((function(){return r(t.vip)}))).then(n)}}))})).finally((function(){e.onReadyBeingFired=null,e.isBeingOpened=!1})).then((function(){return t})).catch((function(n){e.dbOpenError=n;try{a&&a.abort()}catch(t){}return r===e.openCanceller&&t._close(),Xo(n)})).finally((function(){e.openComplete=!0,i()}))}function fa(t){var e=function(e){return t.next(e)},n=o(e),r=o((function(e){return t.throw(e)}));function o(t){return function(e){var o=t(e),i=o.value;return o.done?i:i&&"function"==typeof i.then?i.then(n,r):Kn(i)?Promise.all(i).then(n,r):n(i)}}return o(e)()}function ha(t,e,n){var r=arguments.length;if(r<2)throw new Mr.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];n=o.pop();var i=ur(o);return[t,i,n]}function pa(t,e,n,r,o){return go.resolve().then((function(){var i=ho.transless||ho,a=t._createTransaction(e,n,t._dbSchema,r),s={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(r){return r.name===jr.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((function(){return pa(t,e,n,null,o)}))):Xo(r)}var u,c=wr(o);c&&Uo();var l=go.follow((function(){if(u=o.call(a,a))if(c){var t=Ko.bind(null,null);u.then(t,t)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=fa(u))}),s);return(u&&"function"==typeof u.then?go.resolve(u).then((function(t){return a.active?t:Xo(new Mr.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return u}))).then((function(t){return r&&a._resolve(),a._completion.then((function(){return t}))})).catch((function(t){return a._reject(t),Xo(t)}))}))}function da(t,e,n){for(var r=Kn(t)?t.slice():[t],o=0;o<n;++o)r.push(e);return r}var ya={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return Ln(Ln({},t),{table:function(e){var n=t.table(e),r=n.schema,o={},i=[];function a(t,e,n){var r=Vi(t),s=o[r]=o[r]||[],u=null==t?0:"string"==typeof t?1:t.length,c=e>0,l=Ln(Ln({},n),{isVirtual:c,keyTail:e,keyLength:u,extractKey:qi(t),unique:!c&&n.unique});(s.push(l),l.isPrimaryKey||i.push(l),u>1)&&a(2===u?t[0]:t.slice(0,u-1),e+1,n);return s.sort((function(t,e){return t.keyTail-e.keyTail})),l}var s=a(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[s];for(var u=0,c=r.indexes;u<c.length;u++){var l=c[u];a(l.keyPath,0,l)}function f(e){var n,r,o=e.query.index;return o.isVirtual?Ln(Ln({},e),{query:{index:o,range:(n=e.query.range,r=o.keyTail,{type:1===n.type?2:n.type,lower:da(n.lower,n.lowerOpen?t.MAX_KEY:t.MIN_KEY,r),lowerOpen:!0,upper:da(n.upper,n.upperOpen?t.MIN_KEY:t.MAX_KEY,r),upperOpen:!0})}}):e}return Ln(Ln({},n),{schema:Ln(Ln({},r),{primaryKey:s,indexes:i,getIndexByKeyPath:function(t){var e=o[Vi(t)];return e&&e[0]}}),count:function(t){return n.count(f(t))},query:function(t){return n.query(f(t))},openCursor:function(e){var r=e.query.index,o=r.keyTail,i=r.isVirtual,a=r.keyLength;if(!i)return n.openCursor(e);return n.openCursor(f(e)).then((function(n){return n&&function(n){return Object.create(n,{continue:{value:function(r){null!=r?n.continue(da(r,e.reverse?t.MAX_KEY:t.MIN_KEY,o)):e.unique?n.continue(n.key.slice(0,a).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,o)):n.continue()}},continuePrimaryKey:{value:function(e,r){n.continuePrimaryKey(da(e,t.MAX_KEY,o),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var t=n.key;return 1===a?t[0]:t.slice(0,a)}},value:{get:function(){return n.value}}})}(n)}))}})}})}};function ma(t,e,n,r){return n=n||{},r=r||"",Un(t).forEach((function(o){if(Vn(e,o)){var i=t[o],a=e[o];if("object"==typeof i&&"object"==typeof a&&i&&a){var s=yr(i);s!==yr(a)?n[r+o]=e[o]:"Object"===s?ma(i,a,n,r+o+"."):i!==a&&(n[r+o]=e[o])}else i!==a&&(n[r+o]=e[o])}else n[r+o]=void 0})),Un(e).forEach((function(o){Vn(t,o)||(n[r+o]=e[o])})),n}var ga={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return Ln(Ln({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey;return Ln(Ln({},n),{mutate:function(t){var o=ho.trans,i=o.table(e).hook,a=i.deleting,s=i.creating,u=i.updating;switch(t.type){case"add":if(s.fire===Fr)break;return o._promise("readwrite",(function(){return c(t)}),!0);case"put":if(s.fire===Fr&&u.fire===Fr)break;return o._promise("readwrite",(function(){return c(t)}),!0);case"delete":if(a.fire===Fr)break;return o._promise("readwrite",(function(){return c(t)}),!0);case"deleteRange":if(a.fire===Fr)break;return o._promise("readwrite",(function(){return l((e=t).trans,e.range,1e4);var e}),!0)}return n.mutate(t);function c(t){var e=ho.trans,o=t.keys||function(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}(r,t);if(!o)throw new Error("Keys missing");return"delete"!==(t="add"===t.type||"put"===t.type?Ln(Ln({},t),{keys:o}):Ln({},t)).type&&(t.values=Dn([],t.values,!0)),t.keys&&(t.keys=Dn([],t.keys,!0)),function(t,e,n){return"add"===e.type?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}(n,t,o).then((function(i){var c=o.map((function(n,o){var c=i[o],l={onerror:null,onsuccess:null};if("delete"===t.type)a.fire.call(l,n,c,e);else if("add"===t.type||void 0===c){var f=s.fire.call(l,n,t.values[o],e);null==n&&null!=f&&(n=f,t.keys[o]=n,r.outbound||ir(t.values[o],r.keyPath,n))}else{var h=ma(c,t.values[o]),p=u.fire.call(l,h,n,c,e);if(p){var d=t.values[o];Object.keys(p).forEach((function(t){Vn(d,t)?d[t]=p[t]:ir(d,t,p[t])}))}}return l}));return n.mutate(t).then((function(e){for(var n=e.failures,r=e.results,a=e.numFailures,s=e.lastResult,u=0;u<o.length;++u){var l=r?r[u]:o[u],f=c[u];null==l?f.onerror&&f.onerror(n[u]):f.onsuccess&&f.onsuccess("put"===t.type&&i[u]?t.values[u]:l)}return{failures:n,results:r,numFailures:a,lastResult:s}})).catch((function(t){return c.forEach((function(e){return e.onerror&&e.onerror(t)})),Promise.reject(t)}))}))}function l(t,e,o){return n.query({trans:t,values:!1,query:{index:r,range:e},limit:o}).then((function(n){var r=n.result;return c({type:"delete",keys:r,trans:t}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<o?{failures:[],numFailures:0,lastResult:void 0}:l(t,Ln(Ln({},e),{lower:r[r.length-1],lowerOpen:!0}),o)}))}))}}})}})}};function va(t,e,n){try{if(!e)return null;if(e.keys.length<t.length)return null;for(var r=[],o=0,i=0;o<e.keys.length&&i<t.length;++o)0===wi(e.keys[o],t[i])&&(r.push(n?hr(e.values[o]):e.values[o]),++i);return r.length===t.length?r:null}catch(t){return null}}var ba,wa={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return Ln(Ln({},n),{getMany:function(t){if(!t.cache)return n.getMany(t);var e=va(t.keys,t.trans._cache,"clone"===t.cache);return e?go.resolve(e):n.getMany(t).then((function(e){return t.trans._cache={keys:t.keys,values:"clone"===t.cache?hr(e):e},e}))},mutate:function(t){return"add"!==t.type&&(t.trans._cache=null),n.mutate(t)}})}}}};function _a(t){return!("from"in t)}var Ea=function(t,e){if(!this){var n=new Ea;return t&&"d"in t&&qn(n,t),n}qn(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function xa(t,e,n){var r=wi(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(_a(t))return qn(t,{from:e,to:n,d:1});var o=t.l,i=t.r;if(wi(n,t.from)<0)return o?xa(o,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Ba(t);if(wi(e,t.to)>0)return i?xa(i,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Ba(t);wi(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),wi(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var a=!t.r;o&&!t.l&&Oa(t,o),i&&a&&Oa(t,i)}}function Oa(t,e){_a(e)||function t(e,n){var r=n.from,o=n.to,i=n.l,a=n.r;xa(e,r,o),i&&t(e,i),a&&t(e,a)}(t,e)}function Aa(t){var e=_a(t)?null:{s:0,n:t};return{next:function(t){for(var n=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&wi(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||wi(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Ba(t){var e,n,r=((null===(e=t.r)||void 0===e?void 0:e.d)||0)-((null===(n=t.l)||void 0===n?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){var i="r"===o?"l":"r",a=Ln({},t),s=t[o];t.from=s.from,t.to=s.to,t[o]=s[o],a[o]=s[i],t[i]=a,a.d=Sa(a)}t.d=Sa(t)}function Sa(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}$n(Ea.prototype,((ba={add:function(t){return Oa(this,t),this},addKey:function(t){return xa(this,t,t),this},addKeys:function(t){var e=this;return t.forEach((function(t){return xa(e,t,t)})),this}})[mr]=function(){return Aa(this)},ba));var Pa={stack:"dbcore",level:0,create:function(t){var e=t.schema.name,n=new Ea(t.MIN_KEY,t.MAX_KEY);return Ln(Ln({},t),{table:function(r){var o=t.table(r),i=o.schema,a=i.primaryKey,s=a.extractKey,u=a.outbound,c=Ln(Ln({},o),{mutate:function(t){var a=t.trans,s=a.mutatedParts||(a.mutatedParts={}),u=function(t){var n="idb://"+e+"/"+r+"/"+t;return s[n]||(s[n]=new Ea)},c=u(""),l=u(":dels"),f=t.type,h="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[[],t.values]:[],p=h[0],d=h[1],y=t.trans._cache;return o.mutate(t).then((function(t){if(Kn(p)){"delete"!==f&&(p=t.results),c.addKeys(p);var e=va(p,y);e||"add"===f||l.addKeys(p),(e||d)&&function(t,e,n,r){function o(e){var o=t(e.name||"");function i(t){return null!=t?e.extractKey(t):null}var a=function(t){return e.multiEntry&&Kn(t)?t.forEach((function(t){return o.addKey(t)})):o.addKey(t)};(n||r).forEach((function(t,e){var o=n&&i(n[e]),s=r&&i(r[e]);0!==wi(o,s)&&(null!=o&&a(o),null!=s&&a(s))}))}e.indexes.forEach(o)}(u,i,e,d)}else if(p){var r={from:p.lower,to:p.upper};l.add(r),c.add(r)}else c.add(n),l.add(n),i.indexes.forEach((function(t){return u(t.name).add(n)}));return t}))}}),l=function(e){var n,r,o=e.query,i=o.index,a=o.range;return[i,new Ea(null!==(n=a.lower)&&void 0!==n?n:t.MIN_KEY,null!==(r=a.upper)&&void 0!==r?r:t.MAX_KEY)]},f={get:function(t){return[a,new Ea(t.key)]},getMany:function(t){return[a,(new Ea).addKeys(t.keys)]},count:l,query:l,openCursor:l};return Un(f).forEach((function(t){c[t]=function(i){var a=ho.subscr;if(a){var c=function(t){var n="idb://"+e+"/"+r+"/"+t;return a[n]||(a[n]=new Ea)},l=c(""),h=c(":dels"),p=f[t](i),d=p[0],y=p[1];if(c(d.name||"").add(y),!d.isPrimaryKey){if("count"!==t){var m="query"===t&&u&&i.values&&o.query(Ln(Ln({},i),{values:!1}));return o[t].apply(this,arguments).then((function(e){if("query"===t){if(u&&i.values)return m.then((function(t){var n=t.result;return l.addKeys(n),e}));var n=i.values?e.result.map(s):e.result;i.values?l.addKeys(n):h.addKeys(n)}else if("openCursor"===t){var r=e,o=i.values;return r&&Object.create(r,{key:{get:function(){return h.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var t=r.primaryKey;return h.addKey(t),t}},value:{get:function(){return o&&l.addKey(r.primaryKey),r.value}}})}return e}))}h.add(n)}}return o[t].apply(this,arguments)}})),c}})}};var Ca,ka=function(){function t(e,n){var r=this;this._middlewares={},this.verno=0;var o=t.dependencies;this._options=n=Ln({addons:t.addons,autoOpen:!0,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var i=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var a,s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Fr,dbReadyPromise:null,cancelOpen:Fr,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};s.dbReadyPromise=new go((function(t){s.dbReadyResolve=t})),s.openCanceller=new go((function(t,e){s.cancelOpen=e})),this._state=s,this.name=e,this.on=fi(this,"populate","blocked","versionchange","close",{ready:[Wr,Fr]}),this.on.ready.subscribe=tr(this.on.ready.subscribe,(function(e){return function(n,o){t.vip((function(){var t=r._state;if(t.openComplete)t.dbOpenError||go.resolve().then(n),o&&e(n);else if(t.onReadyBeingFired)t.onReadyBeingFired.push(n),o&&e(n);else{e(n);var i=r;o||e((function t(){i.on.ready.unsubscribe(n),i.on.ready.unsubscribe(t)}))}}))}})),this.Collection=(a=this,hi(xi.prototype,(function(t,e){this.db=a;var n=ui,r=null;if(e)try{n=e()}catch(t){r=t}var o=t._ctx,i=o.table,s=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:s!==Ur?s:null}}))),this.Table=function(t){return hi(li.prototype,(function(e,n,r){this.db=t,this._tx=r,this.name=e,this.schema=n,this.hook=t._allTables[e]?t._allTables[e].hook:fi(null,{creating:[Hr,Fr],reading:[Kr,Ur],updating:[Vr,Fr],deleting:[zr,Fr]})}))}(this),this.Transaction=function(t){return hi(Li.prototype,(function(e,n,r,o,i){var a=this;this.db=t,this.mode=e,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=fi(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new go((function(t,e){a._resolve=t,a._reject=e})),this._completion.then((function(){a.active=!1,a.on.complete.fire()}),(function(t){var e=a.active;return a.active=!1,a.on.error.fire(t),a.parent?a.parent._reject(t):e&&a.idbtrans&&a.idbtrans.abort(),Xo(t)}))}))}(this),this.Version=function(t){return hi(oa.prototype,(function(e){this.db=t,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(t){return hi(Ri.prototype,(function(e,n,r){this.db=t,this._ctx={table:e,index:":id"===n?null:n,or:r};var o=t._deps.indexedDB;if(!o)throw new Mr.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(t,e){return o.cmp(e,t)},this._max=function(t,e){return o.cmp(t,e)>0?t:e},this._min=function(t,e){return o.cmp(t,e)<0?t:e},this._IDBKeyRange=t._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(t){t.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()})),this.on("blocked",(function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+t.oldVersion/10)})),this._maxKey=Ki(n.IDBKeyRange),this._createTransaction=function(t,e,n,o){return new r.Transaction(t,e,n,r._options.chromeTransactionDurability,o)},this._fireOnBlocked=function(t){r.on("blocked").fire(t),ni.filter((function(t){return t.name===r.name&&t!==r&&!t._state.vcFired})).map((function(e){return e.on("versionchange").fire(t)}))},this.use(ya),this.use(ga),this.use(Pa),this.use(wa),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach((function(t){return t(r)}))}return t.prototype.version=function(t){if(isNaN(t)||t<.1)throw new Mr.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Mr.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=this._versions,n=e.filter((function(e){return e._cfg.version===t}))[0];return n||(n=new this.Version(t),e.push(n),e.sort(Qi),n.stores({}),this._state.autoSchema=!1,n)},t.prototype._whenReady=function(t){var e=this;return this.idbdb&&(this._state.openComplete||ho.letThrough||this._vip)?t():new go((function(t,n){if(e._state.openComplete)return n(new Mr.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return void n(new Mr.DatabaseClosed);e.open().catch(Fr)}e._state.dbReadyPromise.then(t,n)})).then(t)},t.prototype.use=function(t){var e=t.stack,n=t.create,r=t.level,o=t.name;o&&this.unuse({stack:e,name:o});var i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:n,level:null==r?10:r,name:o}),i.sort((function(t,e){return t.level-e.level})),this},t.prototype.unuse=function(t){var e=t.stack,n=t.name,r=t.create;return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((function(t){return r?t.create!==r:!!n&&t.name!==n}))),this},t.prototype.open=function(){return la(this)},t.prototype._close=function(){var t=this._state,e=ni.indexOf(this);if(e>=0&&ni.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(t){}this._novip.idbdb=null}t.dbReadyPromise=new go((function(e){t.dbReadyResolve=e})),t.openCanceller=new go((function(e,n){t.cancelOpen=n}))},t.prototype.close=function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Mr.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)},t.prototype.delete=function(){var t=this,e=arguments.length>0,n=this._state;return new go((function(r,o){var i=function(){t.close();var e=t._deps.indexedDB.deleteDatabase(t.name);e.onsuccess=Io((function(){sa(t._deps,t.name),r()})),e.onerror=ji(o),e.onblocked=t._fireOnBlocked};if(e)throw new Mr.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()}))},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return null!==this.idbdb},t.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name},t.prototype.hasFailed=function(){return null!==this._state.dbOpenError},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var t=this;return Un(this._allTables).map((function(e){return t._allTables[e]}))},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var t=ha.apply(this,arguments);return this._transaction.apply(this,t)},t.prototype._transaction=function(t,e,n){var r=this,o=ho.trans;o&&o.db===this&&-1===t.indexOf("!")||(o=null);var i,a,s=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{if(a=e.map((function(t){var e=t instanceof r.Table?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==t||"readonly"===t)i="readonly";else{if("rw"!=t&&"readwrite"!=t)throw new Mr.InvalidArgument("Invalid transaction mode: "+t);i="readwrite"}if(o){if("readonly"===o.mode&&"readwrite"===i){if(!s)throw new Mr.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach((function(t){if(o&&-1===o.storeNames.indexOf(t)){if(!s)throw new Mr.SubTransaction("Table "+t+" not included in parent transaction.");o=null}})),s&&o&&!o.active&&(o=null)}}catch(t){return o?o._promise(null,(function(e,n){n(t)})):Xo(t)}var u=pa.bind(null,this,i,a,o,n);return o?o._promise(i,u,"lock"):ho.trans?Wo(ho.transless,(function(){return r._whenReady(u)})):this._whenReady(u)},t.prototype.table=function(t){if(!Vn(this._allTables,t))throw new Mr.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},t}(),Ta="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",Ia=function(){function t(t){this._subscribe=t}return t.prototype.subscribe=function(t,e,n){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:e,complete:n})},t.prototype[Ta]=function(){return this},t}();function Ra(t,e){return Un(e).forEach((function(n){Oa(t[n]||(t[n]=new Ea),e[n])})),t}try{Ca={indexedDB:Fn.indexedDB||Fn.mozIndexedDB||Fn.webkitIndexedDB||Fn.msIndexedDB,IDBKeyRange:Fn.IDBKeyRange||Fn.webkitIDBKeyRange}}catch(t){Ca={indexedDB:null,IDBKeyRange:null}}var ja=ka;function Na(t){var e=Ma;try{Ma=!0,Mi.storagemutated.fire(t)}finally{Ma=e}}$n(ja,Ln(Ln({},Dr),{delete:function(t){return new ja(t,{addons:[]}).delete()},exists:function(t){return new ja(t,{addons:[]}).open().then((function(t){return t.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(t){try{return function(t){var e=t.indexedDB,n=t.IDBKeyRange;return aa(e)?Promise.resolve(e.databases()).then((function(t){return t.map((function(t){return t.name})).filter((function(t){return"__dbnames"!==t}))})):ia(e,n).toCollection().primaryKeys()}(ja.dependencies).then(t)}catch(t){return Xo(new Mr.MissingAPI)}},defineClass:function(){return function(t){qn(this,t)}},ignoreTransaction:function(t){return ho.trans?Wo(ho.transless,t):t()},vip:ua,async:function(t){return function(){try{var e=fa(t.apply(this,arguments));return e&&"function"==typeof e.then?e:go.resolve(e)}catch(t){return Xo(t)}}},spawn:function(t,e,n){try{var r=fa(t.apply(n,e||[]));return r&&"function"==typeof r.then?r:go.resolve(r)}catch(t){return Xo(t)}},currentTransaction:{get:function(){return ho.trans||null}},waitFor:function(t,e){var n=go.resolve("function"==typeof t?ja.ignoreTransaction(t):t).timeout(e||6e4);return ho.trans?ho.trans.waitFor(n):n},Promise:go,debug:{get:function(){return _r},set:function(t){Er(t,"dexie"===t?function(){return!0}:ai)}},derive:Gn,extend:qn,props:$n,override:tr,Events:fi,on:Mi,liveQuery:function(t){var e=!1,n=void 0,r=new Ia((function(r){var o=wr(t);var i=!1,a={},s={},u={get closed(){return i},unsubscribe:function(){i=!0,Mi.storagemutated.unsubscribe(h)}};r.start&&r.start(u);var c=!1,l=!1;function f(){return Un(s).some((function(t){return a[t]&&function(t,e){var n=Aa(e),r=n.next();if(r.done)return!1;for(var o=r.value,i=Aa(t),a=i.next(o.from),s=a.value;!r.done&&!a.done;){if(wi(s.from,o.to)<=0&&wi(s.to,o.from)>=0)return!0;wi(o.from,s.from)<0?o=(r=n.next(s.from)).value:s=(a=i.next(o.from)).value}return!1}(a[t],s[t])}))}var h=function(t){Ra(a,t),f()&&p()},p=function(){if(!c&&!i){a={};var d={},y=function(e){o&&Uo();var n=function(){return Fo(t,{subscr:e,trans:null})},r=ho.trans?Wo(ho.transless,n):n();return o&&r.then(Ko,Ko),r}(d);l||(Mi("storagemutated",h),l=!0),c=!0,Promise.resolve(y).then((function(t){e=!0,n=t,c=!1,i||(f()?p():(a={},s=d,r.next&&r.next(t)))}),(function(t){c=!1,e=!1,r.error&&r.error(t),u.unsubscribe()}))}};return p(),u}));return r.hasValue=function(){return e},r.getValue=function(){return n},r},extendObservabilitySet:Ra,getByKeyPath:or,setByKeyPath:ir,delByKeyPath:function(t,e){"string"==typeof e?ir(t,e,void 0):"length"in e&&[].map.call(e,(function(e){ir(t,e,void 0)}))},shallowClone:ar,deepClone:hr,getObjectDiff:ma,cmp:wi,asap:nr,minKey:-(1/0),addons:[],connections:ni,errnames:jr,dependencies:Ca,semVer:"3.2.6",version:"3.2.6".split(".").map((function(t){return parseInt(t)})).reduce((function(t,e,n){return t+e/Math.pow(10,2*n)}))})),ja.maxKey=Ki(ja.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Mi("storagemutated",(function(t){var e;Ma||(ri?(e=document.createEvent("CustomEvent")).initCustomEvent("x-storagemutated-1",!0,!0,t):e=new CustomEvent("x-storagemutated-1",{detail:t}),Ma=!0,dispatchEvent(e),Ma=!1)})),addEventListener("x-storagemutated-1",(function(t){var e=t.detail;Ma||Na(e)})));var Ma=!1;if("undefined"!=typeof BroadcastChannel){var La=new BroadcastChannel("x-storagemutated-1");"function"==typeof La.unref&&La.unref(),Mi("storagemutated",(function(t){Ma||La.postMessage(t)})),La.onmessage=function(t){t.data&&Na(t.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Mi("storagemutated",(function(t){try{Ma||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),"object"==typeof self.clients&&Dn([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach((function(e){return e.postMessage({type:"x-storagemutated-1",changedParts:t})})))}catch(t){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(function(t){if("x-storagemutated-1"===t.key){var e=JSON.parse(t.newValue);e&&Na(e.changedParts)}}));var Da=self.document&&navigator.serviceWorker;Da&&Da.addEventListener("message",(function(t){var e=t.data;e&&"x-storagemutated-1"===e.type&&Na(e.changedParts)}))}go.rejectionMapper=function(t,e){if(!t||t instanceof kr||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Lr[t.name])return t;var n=new Lr[t.name](e||t.message,t);return"stack"in t&&Jn(n,"stack",{get:function(){return this.inner.stack}}),n},Er(_r,ai);const Fa=new class extends ka{constructor(){super("Library"),this.version(.1).stores({all:"++, id, watchedId, queuedId"})}};class Ua{get isWatched(){return this.watchedId>0}set isWatched(t){t!=this.isWatched&&(t?this.isQueued?Fa.all.where("id").equals(this.id).modify({watchedId:++Ua.lastIds.watched}):(this.watchedId=++Ua.lastIds.watched,Fa.all.put(this),qa.All=!0):this.isQueued?Fa.all.where("id").equals(this.id).modify({watchedId:0}):(Fa.all.where("id").equals(this.id).delete(),qa.All=!0),qa.Watched=!0)}get isQueued(){return this.queuedId>0}set isQueued(t){t!=this.isQueued&&(t?this.isWatched?Fa.all.where("id").equals(this.id).modify({queuedId:++Ua.lastIds.queued}):(this.queuedId=++Ua.lastIds.queued,Fa.all.put(this),qa.All=!0):this.isWatched?Fa.all.where("id").equals(this.id).modify({queuedId:0}):(Fa.all.where("id").equals(this.id).delete(),qa.All=!0),qa.Queued=!0)}constructor(t){Object.assign(this,t),this.watchedId=0,this.queuedId=0}static db=Fa;static lastIds={watched:0,queued:0};static#t=(()=>{this.db.all.mapToClass(Ua),Fa.all.orderBy("watchedId").last((t=>this.lastIds.watched=t?.watchedId??0)),Fa.all.orderBy("queuedId").last((t=>this.lastIds.queued=t?.queuedId??0))})()}const Ka={},qa={Watched:!0,Queued:!0,All:!0};let Ha,za=null,Va="none";async function $a(t){if(za??=Rn.movieList,"none"!=Va)return za.results.find((e=>e.id===t));if(Ha=await Fa.all.get({id:t}),Ha)return Ha;Ha=t;let e=za.results.find((e=>e.id===t));return new Ua(e)}async function Wa(t,e){if(null==e)if(e=Ka[t]?.page??1,t!=Va){if(Va=t,!qa[t])return Ka[t]}else if(!qa[t])return;Va=t;let n="All"==t?Fa.all.orderBy(":id"):"Watched"==t?Fa.all.where("watchedId").above(0):Fa.all.where("queuedId").above(0),r=await n.clone().count();const o={page:e,results:await n.reverse().offset(20*(e-1)).limit(20).toArray(),total_pages:(r+19)/20|0,total_results:r};return Ka[t]=o,qa[t]=!1,o}Rn.subscribe((()=>za=null));const Ja=document.getElementById("movies-list"),Ga=(document.querySelector(".empty-library-message"),document.querySelector(".watched-tab-btn")),Ya=document.querySelector(".queue-tab-btn");Ja&&document.addEventListener("DOMContentLoaded",(async function(){In((async t=>{const e=await Wa("All",t);return Nn(e,Ja,"Your movie library is empty!"),e}))})),Ga?.addEventListener("click",(async function(){In((async t=>{const e=await Wa("Watched",t);return Nn(e,Ja,"You haven't watched any movies yet!"),e}))})),Ya?.addEventListener("click",(()=>In((async t=>{const e=await Wa("Queued",t);return Nn(e,Ja,"Your movie queue is empty!"),e}))));var Qa,Xa=/^\s+|\s+$/g,Za=/^[-+]0x[0-9a-f]+$/i,ts=/^0b[01]+$/i,es=/^0o[0-7]+$/i,ns=parseInt,rs="object"==typeof t&&t&&t.Object===Object&&t,os="object"==typeof self&&self&&self.Object===Object&&self,is=rs||os||Function("return this")(),as=Object.prototype.toString,ss=Math.max,us=Math.min,cs=function(){return is.Date.now()};function ls(t,e,n){var r,o,i,a,s,u,c=0,l=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,i=o;return r=o=void 0,c=e,a=t.apply(i,n)}function d(t){return c=t,s=setTimeout(m,e),l?p(t):a}function y(t){var n=t-u;return void 0===u||n>=e||n<0||f&&t-c>=i}function m(){var t=cs();if(y(t))return g(t);s=setTimeout(m,function(t){var n=e-(t-u);return f?us(n,i-(t-c)):n}(t))}function g(t){return s=void 0,h&&r?p(t):(r=o=void 0,a)}function v(){var t=cs(),n=y(t);if(r=arguments,o=this,u=t,n){if(void 0===s)return d(u);if(f)return s=setTimeout(m,e),p(u)}return void 0===s&&(s=setTimeout(m,e)),a}return e=hs(e)||0,fs(n)&&(l=!!n.leading,i=(f="maxWait"in n)?ss(hs(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=o=s=void 0},v.flush=function(){return void 0===s?a:g(cs())},v}function fs(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function hs(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==as.call(t)}(t))return NaN;if(fs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=fs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Xa,"");var n=ts.test(t);return n||es.test(t)?ns(t.slice(2),n?2:8):Za.test(t)?NaN:+t}Qa=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return fs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ls(t,e,{leading:r,maxWait:e,trailing:o})};const ps=document.querySelector(".scroll-to-top");window.innerWidth>=480&&(window.addEventListener("scroll",n(Qa)((()=>{window.scrollY>700?ps.classList.add("scroll-to-top--active"):ps.classList.remove("scroll-to-top--active")}),500)),ps.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})));const ds=["https://ca.slack-edge.com/T05F0FBEZ4J-U05LNBNS1FV-bdc613eace33-512","https://ca.slack-edge.com/T05F0FBEZ4J-U05LBUKH9H9-b0c3df3033a7-512","https://ca.slack-edge.com/T05F0FBEZ4J-U05G5HZHM9N-56a05723e670-512","https://ca.slack-edge.com/T05F0FBEZ4J-U05G5J0FZGQ-edc64a9e672e-512","https://ca.slack-edge.com/T05F0FBEZ4J-U05KXFNSSHM-f3392e70383c-512","https://ca.slack-edge.com/T05F0FBEZ4J-U05HY8RUVNE-07ba26c4feff-512"],ys=[["Andreea Vinereanu","Developer"],["Molnar Aczel Zsuzsanna","Scrum Master&Developer"],["Mihai Manole","Team Leader&Developer"],["Adrian Topa","Developer"],["Andrei Baragau","Developer"],["Cristina Macicasan","Developer"]];document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("my-modal-footer");document.querySelectorAll(".close-modal").forEach((e=>{e.addEventListener("click",(function(){t.classList.add("is-hidden")}))}));document.getElementById("modal-title").textContent="Filmoteka";const e=document.querySelector(".modal-image"),n=document.querySelector(".modal-description"),r=document.querySelector(".group-gallery");document.getElementById("openModalButton").addEventListener("click",(function(){t.classList.remove("is-hidden")})),ds.forEach(((o,i)=>{const a=document.createElement("img");a.src=o,a.alt="Image "+(i+1),a.addEventListener("click",(()=>{!function(r,o,i){e.src=r,n.innerHTML=`<p><strong>Name:</strong> ${o}</p><p><strong>Role:</strong> ${i}</p>`,t.classList.remove("is-hidden")}(o,ys[i][0],ys[i][1])})),r.appendChild(a)})),t.addEventListener("click",(function(e){e.target===t&&t.classList.add("is-hidden")}))}));const ms={openModalBtn:document.querySelector("[data-modal-open-movie]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};function gs(t){t.currentTarget===ms.modal&&t.target!==ms.modal||(ms.modal.classList.toggle("is-hidden"),ms.modal.classList.contains("is-hidden")&&(console.log("closing modal"),Rn.refreshPage()))}ms.openModalBtn.addEventListener("click",gs),ms.closeModalBtn.addEventListener("click",gs);const vs=document.getElementById("film-title"),bs=document.getElementById("votes"),ws=document.getElementById("votes-total"),_s=document.getElementById("popul"),Es=document.getElementById("origTitle"),xs=document.getElementById("genre"),Os=document.getElementById("about"),As=document.querySelector(".add-to-watched-btn"),Bs=document.querySelector(".add-to-queue-btn"),Ss=document.getElementById("movies-list"),Ps=document.getElementById("movies-list-home");async function Cs(t){if("IMG"===t.target.tagName){!async function(t){try{ks=await $a(+t.id);const e=ks.poster_path?`https://image.tmdb.org/t/p/w342/${ks.poster_path}`:"https://placehold.co/342x513?text=No+poster";vs.textContent=ks.title;const n=document.getElementById("film-img");n?(n.setAttribute("src",e),bs.textContent=` ${ks.vote_average.toFixed(1)}`,ws.textContent=`${ks.vote_count} `,_s.textContent=` ${ks.popularity.toFixed(1)}`,Os.textContent=`${ks.overview}`,xs.textContent=`${ks.genre_ids.map((t=>On.genres.get(t))).join(", ")}`,Es.textContent=`${ks.original_title.toUpperCase()}`):console.error("Image element not found"),ks.isWatched?(As.classList.add("active-btn"),As.textContent="REMOVE FROM WATCHED"):(As.classList.remove("active-btn"),As.textContent="ADD TO WATCHED"),ks.isQueued?(Bs.classList.add("active-btn"),Bs.textContent="REMOVE FROM FAVORITE"):(Bs.classList.remove("active-btn"),Bs.textContent="ADD TO FAVORITE")}catch(t){console.error("Error populating modal:",t.message)}}({id:t.target.closest("li").dataset.movieId});document.getElementById("info-modal").classList.remove("is-hidden")}}let ks;Ss?.addEventListener("click",Cs),Ps?.addEventListener("click",Cs),As.addEventListener("click",(function(){ks.isWatched=!ks.isWatched,this.classList.toggle("active-btn"),this.textContent=this.classList.contains("active-btn")?"REMOVE FROM WATCHED":"ADD TO WATCHED"})),Bs.addEventListener("click",(function(){ks.isQueued=!ks.isQueued,this.classList.toggle("active-btn"),this.textContent=this.classList.contains("active-btn")?"REMOVE FROM FAVORITE":"ADD TO FAVORITE"}));
//# sourceMappingURL=index.f4e283f0.js.map
